var glob = require("glob").sync,
  del = require("fs").unlinkSync;

function clean(gulp, pkg, name, globPatterns, dependencies) {
  var taskName = name + ":clean";

  gulp.task(taskName, dependencies, function(cb){
    globPatterns.forEach(function(pattern){
      glob(pattern).forEach(function(file){
        del(file);
      });
    });
    cb();
  });

  return taskName;
}

module.exports = clean;