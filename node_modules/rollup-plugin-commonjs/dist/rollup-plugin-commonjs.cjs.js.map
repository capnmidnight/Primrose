{"version":3,"file":null,"sources":["../src/helpers.js","../src/defaultResolver.js","../src/ast-utils.js","../src/utils.js","../src/transform.js","../src/index.js"],"sourcesContent":["export const HELPERS_ID = '\\0commonjsHelpers';\n\nexport const HELPERS = `\nexport var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nexport function commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by rollup-plugin-commonjs');\n}\n\nexport function unwrapExports (x) {\n\treturn x && x.__esModule ? x['default'] : x;\n}\n\nexport function createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}`;\n\nexport const PREFIX = '\\0commonjs-proxy:';\nexport const EXTERNAL = '\\0commonjs-external:';\n","import * as fs from 'fs';\nimport { dirname, resolve } from 'path';\n\nfunction isFile ( file ) {\n\ttry {\n\t\tconst stats = fs.statSync( file );\n\t\treturn stats.isFile();\n\t} catch ( err ) {\n\t\treturn false;\n\t}\n}\n\nfunction addJsExtensionIfNecessary ( file ) {\n\tif ( isFile( file ) ) return file;\n\n\tfile += '.js';\n\tif ( isFile( file ) ) return file;\n\n\treturn null;\n}\n\nconst absolutePath = /^(?:\\/|(?:[A-Za-z]:)?[\\\\|\\/])/;\n\nfunction isAbsolute ( path ) {\n\treturn absolutePath.test( path );\n}\n\nexport default function defaultResolver ( importee, importer ) {\n\t// absolute paths are left untouched\n\tif ( isAbsolute( importee ) ) return addJsExtensionIfNecessary( resolve( importee ) );\n\n\t// if this is the entry point, resolve against cwd\n\tif ( importer === undefined ) return addJsExtensionIfNecessary( resolve( process.cwd(), importee ) );\n\n\t// external modules are skipped at this stage\n\tif ( importee[0] !== '.' ) return null;\n\n\treturn addJsExtensionIfNecessary( resolve( dirname( importer ), importee ) );\n}\n","export function isReference ( node, parent ) {\n\tif ( parent.type === 'MemberExpression' ) return parent.computed || node === parent.object;\n\n\t// disregard the `bar` in { bar: foo }\n\tif ( parent.type === 'Property' && node !== parent.value ) return false;\n\n\t// disregard the `bar` in `class Foo { bar () {...} }`\n\tif ( parent.type === 'MethodDefinition' ) return false;\n\n\t// disregard the `bar` in `export { foo as bar }`\n\tif ( parent.type === 'ExportSpecifier' && node !== parent.local ) return false;\n\n\treturn true;\n}\n\nexport function flatten ( node ) {\n\tconst parts = [];\n\n\twhile ( node.type === 'MemberExpression' ) {\n\t\tif ( node.computed ) return null;\n\n\t\tparts.unshift( node.property.name );\n\t\tnode = node.object;\n\t}\n\n\tif ( node.type !== 'Identifier' ) return null;\n\n\tconst name = node.name;\n\tparts.unshift( name );\n\n\treturn { name, keypath: parts.join( '.' ) };\n}\n\nexport function isTruthy ( node ) {\n\tif ( node.type === 'Literal' ) return !!node.value;\n\tif ( node.type === 'ParenthesizedExpression' ) return isTruthy( node.expression );\n\tif ( node.operator in operators ) return operators[ node.operator ]( node );\n}\n\nexport function isFalsy ( node ) {\n\treturn not( isTruthy( node ) );\n}\n\nfunction not ( value ) {\n\treturn value === undefined ? value : !value;\n}\n\nfunction equals ( a, b, strict ) {\n\tif ( a.type !== b.type ) return undefined;\n\tif ( a.type === 'Literal' ) return strict ? a.value === b.value : a.value == b.value;\n}\n\nconst operators = {\n\t'==': x => {\n\t\treturn equals( x.left, x.right, false );\n\t},\n\n\t'!=': x => not( operators['==']( x ) ),\n\n\t'===': x => {\n\t\treturn equals( x.left, x.right, true );\n\t},\n\n\t'!==': x => not( operators['===']( x ) ),\n\n\t'!': x => isFalsy( x.argument ),\n\n\t'&&': x => isTruthy( x.left ) && isTruthy( x.right ),\n\n\t'||': x => isTruthy( x.left ) || isTruthy( x.right )\n};\n","import { basename, extname } from 'path';\nimport { makeLegalIdentifier } from 'rollup-pluginutils';\n\nexport function getName ( id ) {\n\treturn makeLegalIdentifier( basename( id, extname( id ) ) );\n}\n\n","import acorn from 'acorn';\nimport { walk } from 'estree-walker';\nimport MagicString from 'magic-string';\nimport { attachScopes, makeLegalIdentifier } from 'rollup-pluginutils';\nimport { flatten, isReference, isTruthy, isFalsy } from './ast-utils.js';\nimport { PREFIX, HELPERS_ID } from './helpers.js';\nimport { getName } from './utils.js';\n\nconst reserved = 'abstract arguments boolean break byte case catch char class const continue debugger default delete do double else enum eval export extends false final finally float for function goto if implements import in instanceof int interface let long native new null package private protected public return short static super switch synchronized this throw throws transient true try typeof var void volatile while with yield'.split( ' ' );\nconst blacklistedExports = { __esModule: true };\nreserved.forEach( word => blacklistedExports[ word ] = true );\n\nconst exportsPattern = /^(?:module\\.)?exports(?:\\.([a-zA-Z_$][a-zA-Z_$0-9]*))?$/;\n\nconst firstpassGlobal = /\\b(?:require|module|exports|global)\\b/;\nconst firstpassNoGlobal = /\\b(?:require|module|exports)\\b/;\nconst importExportDeclaration = /^(?:Import|Export(?:Named|Default))Declaration/;\n\nfunction deconflict ( scope, globals, identifier ) {\n\tlet i = 1;\n\tlet deconflicted = identifier;\n\n\twhile ( scope.contains( deconflicted ) || globals.has( deconflicted ) ) deconflicted = `${identifier}_${i++}`;\n\tscope.declarations[ deconflicted ] = true;\n\n\treturn deconflicted;\n}\n\nfunction tryParse ( code, id ) {\n\ttry {\n\t\treturn acorn.parse( code, {\n\t\t\tecmaVersion: 6,\n\t\t\tsourceType: 'module'\n\t\t});\n\t} catch ( err ) {\n\t\terr.message += ` in ${id}`;\n\t\tthrow err;\n\t}\n}\n\nexport default function transform ( code, id, isEntry, ignoreGlobal, customNamedExports, sourceMap ) {\n\tconst firstpass = ignoreGlobal ? firstpassNoGlobal : firstpassGlobal;\n\tif ( !firstpass.test( code ) ) return null;\n\n\tconst ast = tryParse( code, id );\n\n\t// if there are top-level import/export declarations, this is ES not CommonJS\n\tfor ( const node of ast.body ) {\n\t\tif ( importExportDeclaration.test( node.type ) ) return null;\n\t}\n\n\tconst magicString = new MagicString( code );\n\n\tconst required = {};\n\t// Because objects have no guaranteed ordering, yet we need it,\n\t// we need to keep track of the order in a array\n\tconst sources = [];\n\n\tlet uid = 0;\n\n\tlet scope = attachScopes( ast, 'scope' );\n\tconst uses = { module: false, exports: false, global: false, require: false };\n\n\tlet lexicalDepth = 0;\n\tlet programDepth = 0;\n\n\tconst globals = new Set();\n\n\tconst HELPERS_NAME = deconflict( scope, globals, 'commonjsHelpers' ); // TODO technically wrong since globals isn't populated yet, but ¯\\_(ツ)_/¯\n\n\tconst namedExports = {};\n\n\t// TODO handle transpiled modules\n\tlet shouldWrap = /__esModule/.test( code );\n\n\twalk( ast, {\n\t\tenter ( node, parent ) {\n\t\t\tif ( sourceMap ) {\n\t\t\t\tmagicString.addSourcemapLocation( node.start );\n\t\t\t\tmagicString.addSourcemapLocation( node.end );\n\t\t\t}\n\n\t\t\t// skip dead branches\n\t\t\tif ( parent && ( parent.type === 'IfStatement' || parent.type === 'ConditionalExpression' ) ) {\n\t\t\t\tif ( node === parent.consequent && isFalsy( parent.test ) ) return this.skip();\n\t\t\t\tif ( node === parent.alternate && isTruthy( parent.test ) ) return this.skip();\n\t\t\t}\n\n\t\t\tif ( node._skip ) return this.skip();\n\n\t\t\tprogramDepth += 1;\n\n\t\t\tif ( node.scope ) scope = node.scope;\n\t\t\tif ( /^Function/.test( node.type ) ) lexicalDepth += 1;\n\n\t\t\t// Is this an assignment to exports or module.exports?\n\t\t\tif ( node.type === 'AssignmentExpression' ) {\n\t\t\t\tif ( node.left.type !== 'MemberExpression' ) return;\n\n\t\t\t\tconst flattened = flatten( node.left );\n\t\t\t\tif ( !flattened ) return;\n\n\t\t\t\tif ( scope.contains( flattened.name ) ) return;\n\n\t\t\t\tconst match = exportsPattern.exec( flattened.keypath );\n\t\t\t\tif ( !match || flattened.keypath === 'exports' ) return;\n\n\t\t\t\tuses[ flattened.name ] = true;\n\n\t\t\t\t// we're dealing with `module.exports = ...` or `[module.]exports.foo = ...` –\n\t\t\t\t// if this isn't top-level, we'll need to wrap the module\n\t\t\t\tif ( programDepth > 3 ) shouldWrap = true;\n\n\t\t\t\tnode.left._skip = true;\n\n\t\t\t\tif ( flattened.keypath === 'module.exports' && node.right.type === 'ObjectExpression' ) {\n\t\t\t\t\treturn node.right.properties.forEach( prop => {\n\t\t\t\t\t\tif ( prop.computed || prop.key.type !== 'Identifier' ) return;\n\t\t\t\t\t\tconst name = prop.key.name;\n\t\t\t\t\t\tif ( name === makeLegalIdentifier( name ) ) namedExports[ name ] = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif ( match[1] ) namedExports[ match[1] ] = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( node.type === 'Identifier' ) {\n\t\t\t\tif ( isReference( node, parent ) && !scope.contains( node.name ) ) {\n\t\t\t\t\tif ( node.name in uses ) {\n\t\t\t\t\t\tuses[ node.name ] = true;\n\t\t\t\t\t\tif ( node.name === 'global' && !ignoreGlobal ) {\n\t\t\t\t\t\t\tmagicString.overwrite( node.start, node.end, `${HELPERS_NAME}.commonjsGlobal`, true );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( node.name === 'require' ) {\n\t\t\t\t\t\t\tmagicString.overwrite( node.start, node.end, `${HELPERS_NAME}.commonjsRequire`, true );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// if module or exports are used outside the context of an assignment\n\t\t\t\t\t\t// expression, we need to wrap the module\n\t\t\t\t\t\tif ( node.name === 'module' || node.name === 'exports' ) {\n\t\t\t\t\t\t\tshouldWrap = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tglobals.add( node.name );\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( node.type === 'ThisExpression' && lexicalDepth === 0 ) {\n\t\t\t\tuses.global = true;\n\t\t\t\tif ( !ignoreGlobal ) magicString.overwrite( node.start, node.end, `${HELPERS_NAME}.commonjsGlobal`, true );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( node.type !== 'CallExpression' ) return;\n\t\t\tif ( node.callee.name !== 'require' || scope.contains( 'require' ) ) return;\n\t\t\tif ( node.arguments.length !== 1 || node.arguments[0].type !== 'Literal' ) return; // TODO handle these weird cases?\n\n\t\t\tconst source = node.arguments[0].value;\n\n\t\t\tconst existing = required[ source ];\n\t\t\tif ( existing === undefined ) {\n\t\t\t\tsources.unshift(source);\n\t\t\t}\n\t\t\tlet name;\n\n\t\t\tif ( !existing ) {\n\t\t\t\tname = `require$$${uid++}`;\n\t\t\t\trequired[ source ] = { source, name, importsDefault: false };\n\t\t\t} else {\n\t\t\t\tname = required[ source ].name;\n\t\t\t}\n\n\t\t\tif ( parent.type !== 'ExpressionStatement' ) {\n\t\t\t\trequired[ source ].importsDefault = true;\n\t\t\t\tmagicString.overwrite( node.start, node.end, name );\n\t\t\t} else {\n\t\t\t\t// is a bare import, e.g. `require('foo');`\n\t\t\t\tmagicString.remove( parent.start, parent.end );\n\t\t\t}\n\n\t\t\tnode.callee._skip = true;\n\t\t},\n\n\t\tleave ( node ) {\n\t\t\tprogramDepth -= 1;\n\t\t\tif ( node.scope ) scope = scope.parent;\n\t\t\tif ( /^Function/.test( node.type ) ) lexicalDepth -= 1;\n\t\t}\n\t});\n\n\tif ( !sources.length && !uses.module && !uses.exports && !uses.require && ( ignoreGlobal || !uses.global ) ) {\n\t\tif ( Object.keys( namedExports ).length ) {\n\t\t\tthrow new Error( `Custom named exports were specified for ${id} but it does not appear to be a CommonJS module` );\n\t\t}\n\t\treturn null; // not a CommonJS module\n\t}\n\n\tconst includeHelpers = shouldWrap || uses.global || uses.require;\n\tconst importBlock = ( includeHelpers ? [ `import * as ${HELPERS_NAME} from '${HELPERS_ID}';` ] : [] ).concat(\n\t\tsources.map( source => {\n\t\t\t// import the actual module before the proxy, so that we know\n\t\t\t// what kind of proxy to build\n\t\t\treturn `import '${source}';`;\n\t\t}),\n\t\tsources.map( source => {\n\t\t\tconst { name, importsDefault } = required[ source ];\n\t\t\treturn `import ${importsDefault ? `${name} from ` : ``}'${PREFIX}${source}';`;\n\t\t})\n\t).join( '\\n' ) + '\\n\\n';\n\n\tconst namedExportDeclarations = [];\n\tlet wrapperStart = '';\n\tlet wrapperEnd = '';\n\n\tconst moduleName = deconflict( scope, globals, getName( id ) );\n\tif ( !isEntry ) {\n\t\tconst exportModuleExports = `export { ${moduleName} as __moduleExports };`;\n\t\tnamedExportDeclarations.push( exportModuleExports );\n\t}\n\n\tconst name = getName( id );\n\n\tfunction addExport ( x ) {\n\t\tlet declaration;\n\n\t\tif ( x === name ) {\n\t\t\tconst deconflicted = deconflict( scope, globals, name );\n\t\t\tdeclaration = `var ${deconflicted} = ${moduleName}.${x};\\nexport { ${deconflicted} as ${x} };`;\n\t\t} else {\n\t\t\tdeclaration = `export var ${x} = ${moduleName}.${x};`;\n\t\t}\n\n\t\tnamedExportDeclarations.push( declaration );\n\t}\n\n\tif ( customNamedExports ) customNamedExports.forEach( addExport );\n\n\tconst defaultExportPropertyAssignments = [];\n\tlet hasDefaultExport = false;\n\n\tif ( shouldWrap ) {\n\t\tconst args = `module${uses.exports ? ', exports' : ''}`;\n\n\t\twrapperStart = `var ${moduleName} = ${HELPERS_NAME}.createCommonjsModule(function (${args}) {\\n`;\n\t\twrapperEnd = `\\n});`;\n\n\t\tObject.keys( namedExports )\n\t\t\t.filter( key => !blacklistedExports[ key ] )\n\t\t\t.forEach( addExport );\n\t} else {\n\t\tconst names = [];\n\n\t\tast.body.forEach( node => {\n\t\t\tif ( node.type === 'ExpressionStatement' && node.expression.type === 'AssignmentExpression' ) {\n\t\t\t\tconst { left, right } = node.expression;\n\t\t\t\tconst flattened = flatten( left );\n\n\t\t\t\tif ( !flattened ) return;\n\n\t\t\t\tconst match = exportsPattern.exec( flattened.keypath );\n\t\t\t\tif ( !match ) return;\n\n\t\t\t\tif ( flattened.keypath === 'module.exports' ) {\n\t\t\t\t\thasDefaultExport = true;\n\t\t\t\t\tmagicString.overwrite( left.start, left.end, `var ${moduleName}` );\n\t\t\t\t} else {\n\t\t\t\t\tconst name = match[1];\n\t\t\t\t\tconst deconflicted = deconflict( scope, globals, name );\n\n\t\t\t\t\tnames.push({ name, deconflicted });\n\n\t\t\t\t\tmagicString.overwrite( node.start, right.start, `var ${deconflicted} = ` );\n\n\t\t\t\t\tconst declaration = name === deconflicted ?\n\t\t\t\t\t\t`export { ${name} };` :\n\t\t\t\t\t\t`export { ${deconflicted} as ${name} };`;\n\n\t\t\t\t\tnamedExportDeclarations.push( declaration );\n\t\t\t\t\tdefaultExportPropertyAssignments.push( `${moduleName}.${name} = ${deconflicted};` );\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif ( !hasDefaultExport ) {\n\t\t\twrapperEnd = `\\n\\nvar ${moduleName} = {\\n${\n\t\t\t\tnames.map( ({ name, deconflicted }) => `\\t${name}: ${deconflicted}` ).join( ',\\n' )\n\t\t\t}\\n};`;\n\t\t}\n\t}\n\n\tconst defaultExport = /__esModule/.test( code ) ?\n\t\t`export default ${HELPERS_NAME}.unwrapExports(${moduleName});` :\n\t\t`export default ${moduleName};`;\n\n\tconst exportBlock = '\\n\\n' + [ defaultExport ]\n\t\t.concat( namedExportDeclarations )\n\t\t.concat( hasDefaultExport ? defaultExportPropertyAssignments : [] )\n\t\t.join( '\\n' );\n\n\tmagicString.trim()\n\t\t.prepend( importBlock + wrapperStart )\n\t\t.trim()\n\t\t.append( wrapperEnd + exportBlock );\n\n\tcode = magicString.toString();\n\tconst map = sourceMap ? magicString.generateMap() : null;\n\n\treturn { code, map };\n}\n","import { statSync } from 'fs';\nimport { dirname, extname, resolve, sep } from 'path';\nimport { sync as nodeResolveSync } from 'resolve';\nimport { createFilter } from 'rollup-pluginutils';\nimport { EXTERNAL, PREFIX, HELPERS_ID, HELPERS } from './helpers.js';\nimport defaultResolver from './defaultResolver.js';\nimport transform from './transform.js';\nimport { getName } from './utils.js';\n\nfunction getCandidatesForExtension ( resolved, extension ) {\n\treturn [\n\t\tresolved + extension,\n\t\tresolved + `${sep}index${extension}`\n\t];\n}\n\nfunction getCandidates ( resolved, extensions ) {\n\treturn extensions.reduce(\n\t\t( paths, extension ) => paths.concat( getCandidatesForExtension ( resolved, extension ) ),\n\t\t[resolved]\n\t);\n}\n\n// Return the first non-falsy result from an array of\n// maybe-sync, maybe-promise-returning functions\nfunction first ( candidates ) {\n\treturn function ( ...args ) {\n\t\treturn candidates.reduce( ( promise, candidate ) => {\n\t\t\treturn promise.then( result => result != null ?\n\t\t\t\tresult :\n\t\t\t\tPromise.resolve( candidate( ...args ) ) );\n\t\t}, Promise.resolve() );\n\t};\n}\n\nfunction startsWith ( str, prefix ) {\n\treturn str.slice( 0, prefix.length ) === prefix;\n}\n\n\nexport default function commonjs ( options = {} ) {\n\tconst extensions = options.extensions || ['.js'];\n\tconst filter = createFilter( options.include, options.exclude );\n\tconst ignoreGlobal = options.ignoreGlobal;\n\n\tconst customNamedExports = {};\n\tif ( options.namedExports ) {\n\t\tObject.keys( options.namedExports ).forEach( id => {\n\t\t\tlet resolvedId;\n\n\t\t\ttry {\n\t\t\t\tresolvedId = nodeResolveSync( id, { basedir: process.cwd() });\n\t\t\t} catch ( err ) {\n\t\t\t\tresolvedId = resolve( id );\n\t\t\t}\n\n\t\t\tcustomNamedExports[ resolvedId ] = options.namedExports[ id ];\n\t\t});\n\t}\n\n\tlet entryModuleIdPromise = null;\n\tlet entryModuleId = null;\n\n\tfunction resolveId ( importee, importer ) {\n\t\tif ( importee === HELPERS_ID ) return importee;\n\n\t\tif ( importer && startsWith( importer, PREFIX ) ) importer = importer.slice( PREFIX.length );\n\n\t\tconst isProxyModule = startsWith( importee, PREFIX );\n\t\tif ( isProxyModule ) importee = importee.slice( PREFIX.length );\n\n\t\treturn resolveUsingOtherResolvers( importee, importer ).then( resolved => {\n\t\t\tif ( resolved ) return isProxyModule ? PREFIX + resolved : resolved;\n\n\t\t\tresolved = defaultResolver( importee, importer );\n\n\t\t\tif ( isProxyModule ) {\n\t\t\t\tif ( resolved ) return PREFIX + resolved;\n\t\t\t\treturn EXTERNAL + importee; // external\n\t\t\t}\n\n\t\t\treturn resolved;\n\t\t});\n\t}\n\n\tconst sourceMap = options.sourceMap !== false;\n\n\tconst commonjsModules = new Map();\n\tlet resolveUsingOtherResolvers;\n\n\treturn {\n\t\tname: 'commonjs',\n\n\t\toptions ( options ) {\n\t\t\tconst resolvers = ( options.plugins || [] )\n\t\t\t\t.map( plugin => {\n\t\t\t\t\tif ( plugin.resolveId === resolveId ) {\n\t\t\t\t\t\t// substitute CommonJS resolution logic\n\t\t\t\t\t\treturn ( importee, importer ) => {\n\t\t\t\t\t\t\tif ( importee[0] !== '.' || !importer ) return; // not our problem\n\n\t\t\t\t\t\t\tconst resolved = resolve( dirname( importer ), importee );\n\t\t\t\t\t\t\tconst candidates = getCandidates( resolved, extensions );\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < candidates.length; i += 1 ) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tconst stats = statSync( candidates[i] );\n\t\t\t\t\t\t\t\t\tif ( stats.isFile() ) return candidates[i];\n\t\t\t\t\t\t\t\t} catch ( err ) { /* noop */ }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn plugin.resolveId;\n\t\t\t\t})\n\t\t\t\t.filter( Boolean );\n\n\t\t\tresolveUsingOtherResolvers = first( resolvers );\n\n\t\t\tentryModuleIdPromise = resolveId( options.entry ).then( resolved => {\n\t\t\t\tentryModuleId = resolved;\n\t\t\t});\n\t\t},\n\n\t\tresolveId,\n\n\t\tload ( id ) {\n\t\t\tif ( id === HELPERS_ID ) return HELPERS;\n\n\t\t\t// generate proxy modules\n\t\t\tif ( startsWith( id, EXTERNAL ) ) {\n\t\t\t\tconst actualId = id.slice( EXTERNAL.length );\n\t\t\t\tconst name = getName( actualId );\n\n\t\t\t\treturn `import ${name} from ${JSON.stringify( actualId )}; export default ${name};`;\n\t\t\t}\n\n\t\t\tif ( startsWith( id, PREFIX ) ) {\n\t\t\t\tconst actualId = id.slice( PREFIX.length );\n\t\t\t\tconst name = getName( actualId );\n\n\t\t\t\treturn commonjsModules.has( actualId ) ?\n\t\t\t\t\t`import { __moduleExports } from ${JSON.stringify( actualId )}; export default __moduleExports;` :\n\t\t\t\t\t`import * as ${name} from ${JSON.stringify( actualId )}; export default ( ${name} && ${name}['default'] ) || ${name};`;\n\t\t\t}\n\t\t},\n\n\t\ttransform ( code, id ) {\n\t\t\tif ( !filter( id ) ) return null;\n\t\t\tif ( extensions.indexOf( extname( id ) ) === -1 ) return null;\n\n\t\t\treturn entryModuleIdPromise.then( () => {\n\t\t\t\tconst transformed = transform( code, id, id === entryModuleId, ignoreGlobal, customNamedExports[ id ], sourceMap );\n\n\t\t\t\tif ( transformed ) {\n\t\t\t\t\tcommonjsModules.set( id, true );\n\t\t\t\t\treturn transformed;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}\n"],"names":["const","fs.statSync","path","resolve","dirname","makeLegalIdentifier","basename","extname","let","attachScopes","walk","sep","createFilter","nodeResolveSync","statSync","actualId","name"],"mappings":"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"}