var Message = require("../Message"),
  fs = require("fs"),
  mime = require("mime");

module.exports = function redirect(fileName, lastModified, start, end, etag) {
  var size = end - start + 1;
  return new Message(206, fs.createReadStream(fileName, {
    start: start,
    end: end
  }), {
    mime: mime.lookup(fileName),
    length: size,
    "last-modified": lastModified.toGMTString(),
    "accept-ranges": "bytes",
    "content-range": "bytes " + start + "-" + end + "/" + size,
    "etag": etag
  });
};