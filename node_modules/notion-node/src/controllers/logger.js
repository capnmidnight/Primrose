"use strict";

var noContent = require("../handlers/noContent");

module.exports = {
  description: "Log events over AJAX",
  URLPattern: /^\/logger\/?$/,
  POST: {
    "*/*": function (state) {
      var body = state.body,
        func = console[body.name];
      if (func) {
        body.args.unshift(body.name.toLocaleUpperCase() + ":> ");
        func.apply(console, body.args);
      }
      else {
        console.log(body);
      }
      return noContent();
    }
  }
};