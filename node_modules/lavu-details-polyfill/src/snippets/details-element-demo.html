<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="details element demo">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Details element demo</title>

  <!-- HTML5 Boilerplate CSS -->
  <link type="text/css" rel="stylesheet" href="normalize.css" />
  <link type="text/css" rel="stylesheet" href="main.css" />

  <!-- Additional styling of the details element -->
  <style>

    details > *:not(summary) {
      display: none;
      opacity: 0;
      -webkit-transform: scaleY(0);
      -moz-transform: scaleY(0);
      -ms-transform: scaleY(0);
      transform: scaleY(0);
    }
    details[open] > *:not(summary) {
      display: block;
      opacity: 1;
      -webkit-transform: scale(1);
      -moz-transform: scale(1);
      -ms-transform: scale(1);
      transform: scale(1);

      -webkit-animation: animopen .15s ease-in-out;
      -moz-animation: animopen .15s ease-in-out;
      animation: animopen .15s ease-in-out;
    }

    /* Animating display:none -> display:block, see: https://jdsteinbach.com/css/snippet-animate-display-transform/ */
    @-webkit-keyframes animopen {
      0% {
        display: none;
        opacity: 0;
      }
      1% {
        display: block;
        opacity: 0;
        -webkit-transform: scaleY(0);
      }
      100% {
        opacity: 1;
        -webkit-transform: scaleY(1);
      }
    }
    @-moz-keyframes animopen {
      0% {
        display: none;
        opacity: 0;
      }
      1% {
        display: block;
        opacity: 0;
        -moz-transform: scaleY(0);
      }
      100% {
        opacity: 1;
        -moz-transform: scaleY(1);
      }
    }
    @keyframes animopen {
      0% {
        display: none;
        opacity: 0;
      }
      1% {
        display: block;
        opacity: 0;
        transform: scaleY(0);
      }
      100% {
        opacity: 1;
        transform: scaleY(1);
      }
    }

    details details {
      margin-left: 8px;
    }
    summary {
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 8px;
    }
    details details summary {
      font-size: 14px;
    }

  </style>

</head>

<body>
<article style="max-width: 800px; margin: 0 auto; padding: 0 8px;">
  <h1>&lt;details&gt; element demo</h1>
  <details role="group" open>
    <summary role="button">The &lt;details&gt; element</summary>
    <div>
      <p>The <code>&lt;details&gt</code> element specifies additional details that the user can view or hide on demand.
        The <code>&lt;summary&gt;</code> element defines a visible heading for the <code>&lt;details&gt;</code> element.
        The heading can be clicked to view/hide the details.
        More information can be found e.g. here:
        <a href="http://html5doctor.com/the-details-and-summary-elements/" target="_blank"><strong>The details and summary elements</strong></a></p>

        <p >Semantic markup</p>
        <pre>
    &lt;details role="group" open&gt;
      &lt;summary role="button">Show/Hide me&lt;/summary&gt;
      &lt;p>Some content ..... etc.&lt;/p&gt;
    &lt;/details&gt;
        </pre>

        <p>Note 1:</p>
        <p>There is no guarantee that the browser's implementation, or the polyfill implementation, will respect it's
          child elements layout when toggeling the details. To preserve the child elements layout, <strong>always</strong>
          wrap the child elements inside a block element, e.g. <code>&lt;div&gt;</code>.</p>

        <pre>
    &lt;style&gt;
      .something-inlined {
        display: inline;
        padding: 8px;
      }
      .something-inlined--yellow {
        background-color: yellow;
      }
      .something-inlined--green {
        background-color: green;
      }
    &lt;/style&gt;
    &lt;details role="group"&gt;
      &lt;summary role="button"&gt;Respect layout of child elements&lt;/summary&gt;
      &lt;div&gt;
        &lt;div class="something-inlined something-inlined--yellow"&gt;I'm inlined&lt;/div&gt;
        &lt;div class="something-inlined something-inlined--green"&gt;Mee 2&lt;/div&gt;
      &lt;/div&gt;
    &lt;/details&gt;
      </pre>

      <p>Note 2:</p>
      <p>The <code>&lt;details&gt;</code> element currently has very limited cross-browser support.
        To ensure support across all modern browsers, please consider using a polyfill or creating your own.</p>

      <details role="group">
        <summary role="button">I wrote my own polyfill using the following sources</summary>
        <div>
          <ul>
            <li>https://github.com/jordanaustin/Details-Expander</li>
            <li>https://github.com/chemerisuk/better-details-polyfill</li>
            <li>http://codepen.io/stevef/pen/jiCBE</li>
            <li>http://blog.mxstbr.com/2015/06/html-details/</li>
            <li>http://html5doctor.com/the-details-and-summary-elements/</li>
            <li>http://zogovic.com/post/21784525226/simple-html5-details-polyfill</li>
            <li>http://www.sitepoint.com/fixing-the-details-element/</li>
            <li>https://www.smashingmagazine.com/2014/11/complete-polyfill-html5-details-element/</li>
          </ul>
        </div>
      </details>
    </div>

    <details role="group">
      <summary role="button">How to use the polyfill</summary>
      <div>
        <p>Import the polyfill into your main javascript module.</p>
        <p><code>import { polyfillDetails } from './js/polyfills/details/details';</code></p>
        <p>If you load HTML fragments dynamically, e.g. in a single page application, then you must call the polyfill after loading the HTML.</p>
        <p><code>polyfillDetails(content) // content is the parent node of the loaded HTML fragment</code></p>
      </div>
    </details>
  </details>

  <h2>Simple usage</h2>
  <details role="group">
    <summary role="button">Click to show/hide details</summary>
    <p>The details are hidden after page load.</p>
  </details>

  <h2>The open attribute</h2>
  <details role="group" open>
    <summary role="button">Click to hide/show details</summary>
    <p>The details are open after page load.</p>
  </details>

  <h2>Nested elements</h2>
  <details role="group">
    <summary role="button">Question 1</summary>
    <div>
      <p><strong>Pellentesque habitant morbi tristique</strong> senectus et netus et malesuada fames ac turpis egestas.
        Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas
        semper. <em>Aenean ultricies mi vitae est.</em> Mauris placerat eleifend leo. Quisque sit amet est et sapien
        ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, <code>commodo vitae</code>, ornare sit amet, wisi.
        Aenean fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui.
        <span tabindex="0"><a tabindex="-1" href="#">Donec non enim</a></span> in turpis pulvinar facilisis. Ut felis.</p>
      <details role="group">
        <summary role="button">Related documents</summary>
        <div>
          <ul>
            <!-- Tabindex on a tag does not work in FF, see: https://bugzilla.mozilla.org/show_bug.cgi?id=338035 -->
            <!-- One possible fix: -->
            <li><span tabindex="0"><a tabindex="-1" href="#">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</a></span></li>
            <li><span tabindex="0"><a tabindex="-1" href="#">Aliquam tincidunt mauris eu risus.</a></span></li>
            <li><span tabindex="0"><a tabindex="-1" href="#">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</a></span></li>
            <li><span tabindex="0"><a tabindex="-1" href="#">Aliquam tincidunt mauris eu risus.</a></span></li>
          </ul>
        </div>
      </details>
    </div>
  </details>


  <h2>No summary element in markup</h2>
  <details role="group">
    <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.</p>
  </details>

  <h2>Event listener example</h2>

  <details id="hide-show" role="group" open>
    <summary role="button">Hide me</summary>
    <p>The details element below is closed if this detail is open.</p>
  </details>

  <details id="show-hide" role="group">
    <summary role="button">Show me</summary>
    <p>The details element above is closed if this detail is open.</p>
  </details>

  <script>
    (function() {
      'use strict';
      var showHide = document.querySelector('#show-hide');
      var hideShow = document.querySelector('#hide-show');

      hideShow.addEventListener('click', function(e) {
        setTimeout(function(){ toggle(this, showHide);}.bind(this), 0); // Chrome needs setTimeout
      }.bind(hideShow));

      showHide.addEventListener('click', function(e) {
        setTimeout(function(){ toggle(this, hideShow);}.bind(this), 0); // Chrome needs setTimeout
      }.bind(showHide));

      function toggle(detail, other) {
        var summary = detail.querySelector('summary');
        summary.textContent = detail.hasAttribute('open') ? 'Hide me' : 'Show me';

        summary = other.querySelector('summary');
        if(detail.hasAttribute('open')) {
          other.removeAttribute('open');
          summary.textContent = 'Show me'
        }
        else {
          other.setAttribute('open', '');
          summary.textContent = 'Hide me'
        }
      }
    }());
  </script>

  <style>
    .someting-inlined {
      display: inline;
      font-size: 16px;
      padding: 8px;
    }
    .someting-inlined--yellow {
      background-color: yellow;
    }
    .someting-inlined--green {
      background-color: green;
    }
  </style>
  <details role="group" open>
    <summary role="button">Respect layout of child elements</summary>
    <div>
      <p>There is no guarantee that the browser's implementation, or the polyfill implementation, of the <code>&lt;details&gt;</code>
        element will respect it's child elements layout when toggeling the details. To preserve the child elements
        layout, <strong>always</strong> wrap the child elements inside a block element, e.g. <code>&lt;div&gt;</code>.</p>
      <div class="someting-inlined someting-inlined--yellow">I'm inlined</div>
      <div class="someting-inlined someting-inlined--green">Mee 2</div>
    </div>

    <br style="clear: both; margin-top: 16px;" />
    <p>Not wrapped inside <code>&lt;div&gt;</code></p>
    <div class="someting-inlined someting-inlined--yellow">I'm not inlined</div>
    <div class="someting-inlined someting-inlined--green">! mee either</div>
  </details>
</article>

<script type="text/javascript" src="../../lib/index.min.js" charset="utf-8"></script>
</body>
</html>


