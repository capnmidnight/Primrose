function Z(r,n,e){return typeof r===n||r instanceof e}function B(r){return Z(r,"function",Function)}function R(r){return Z(r,"string",String)}function Q(r){return Z(r,"boolean",Boolean)}function pe(r){return x(r)&&Z(r,"object",Object)}function I(r){return r==null}function x(r){return!I(r)}function G(r){return r.splice(0)}function Ie(r,n){return r.splice(n,1)[0]}function De(r,...n){r.splice(0,r.length,...n)}var J=class{constructor(){this.listeners=new Map;this.listenerOptions=new Map}addEventListener(n,e,t){if(B(e)){let o=this.listeners.get(n);o||(o=new Array,this.listeners.set(n,o)),o.find(i=>i===e)||(o.push(e),t&&this.listenerOptions.set(e,t))}}removeEventListener(n,e){if(B(e)){let t=this.listeners.get(n);t&&this.removeListener(t,e)}}clearEventListeners(n){for(let[e,t]of this.listeners)if(I(n)||n===e){for(let o of t)this.removeEventListener(n,o);G(t),this.listeners.delete(e)}}removeListener(n,e){let t=n.findIndex(o=>o===e);t>=0&&(Ie(n,t),this.listenerOptions.has(e)&&this.listenerOptions.delete(e))}dispatchEvent(n){let e=this.listeners.get(n.type);if(e)for(let t of e){let o=this.listenerOptions.get(t);x(o)&&!Q(o)&&o.once&&this.removeListener(e,t),t.call(this,n)}return!n.defaultPrevented}},w=class extends Event{get type(){return super.type}constructor(n,e){super(n,e)}},D=class extends J{constructor(){super(...arguments);this.bubblers=new Set;this.scopes=new WeakMap}addBubbler(e){this.bubblers.add(e)}removeBubbler(e){this.bubblers.delete(e)}addEventListener(e,t,o){super.addEventListener(e,t,o)}removeEventListener(e,t){super.removeEventListener(e,t)}clearEventListeners(e){return super.clearEventListeners(e)}addScopedEventListener(e,t,o,i){this.scopes.has(e)||this.scopes.set(e,[]),this.scopes.get(e).push([t,o]),this.addEventListener(t,o,i)}removeScope(e){let t=this.scopes.get(e);if(t){this.scopes.delete(e);for(let[o,i]of t)this.removeEventListener(o,i)}}dispatchEvent(e){if(!super.dispatchEvent(e))return!1;if(!e.cancelBubble){for(let t of this.bubblers)if(!t.dispatchEvent(e))return!1}return!0}};var ee=class{constructor(n=!0){this.autoStart=n;this.onThens=new Array;this.onCatches=new Array;this._result=void 0;this._error=void 0;this._executionState="waiting";this._resultState="none";this.resolve=e=>{if(this.running){this._result=e,this._resultState="resolved";for(let t of this.onThens)t(e);this.clear(),this._executionState="finished"}},this.reject=e=>{if(this.running){this._error=e,this._resultState="errored";for(let t of this.onCatches)t(e);this.clear(),this._executionState="finished"}},this.autoStart&&this.start()}clear(){G(this.onThens),G(this.onCatches)}start(){this._executionState="running"}resolver(n){return()=>this.resolve(n)}forEvent(){return n=>this.resolve(n)}resolveOn(n,e,t){let o=this.resolver(t);n.addEventListener(e,o),this.finally(()=>n.removeEventListener(e,o))}get result(){if(x(this.error))throw this.error;return this._result}get error(){return this._error}get executionState(){return this._executionState}get waiting(){return this.executionState==="waiting"}get started(){return this.executionState!=="waiting"}get running(){return this.executionState==="running"}get finished(){return this.executionState==="finished"}get resultState(){return this._resultState}get resolved(){return this.resultState==="resolved"}get errored(){return this.resultState==="errored"}get[Symbol.toStringTag](){return this.toString()}project(){return new Promise((n,e)=>{this.finished?this.errored?e(this.error):n(this.result):(this.onThens.push(n),this.onCatches.push(e))})}then(n,e){return this.project().then(n,e)}catch(n){return this.project().catch(n)}finally(n){return this.project().finally(n)}reset(){this._reset(this.autoStart)}restart(){this._reset(!0)}_reset(n){this.running&&this.reject("Resetting previous invocation"),this.clear(),this._result=void 0,this._error=void 0,this._executionState="waiting",this._resultState="none",n&&this.start()}};var te=class{constructor(n,e,t,...o){this.key=n;this.value=e;this.bySetAttribute=t;this.tags=o.map(i=>i.toLocaleUpperCase()),Object.freeze(this)}applyToElement(n){let e=this.key.startsWith("data-");if(!(this.tags.length===0||this.tags.indexOf(n.tagName)>-1||e))console.warn(`Element ${n.tagName} does not support Attribute ${this.key}`);else if(e){let o=this.key.substring(5);n.dataset[o]=this.value}else this.key==="style"?Object.assign(n.style,this.value):this.key==="classList"?this.value.forEach(o=>n.classList.add(o)):this.bySetAttribute?n.setAttribute(this.key,this.value):this.key in n?n[this.key]=this.value:this.value===!1?n.removeAttribute(this.key):this.value===!0?n.setAttribute(this.key,""):n.setAttribute(this.key,this.value)}};function me(r){return`${r}%`}function Se(){return"ui-monospace, 'Droid Sans Mono', 'Cascadia Mono', 'Segoe UI Mono', 'Ubuntu Mono', 'Roboto Mono', Menlo, Monaco, Consolas, monospace"}function He(){return Ct(Se())}var fe=class{constructor(n){this._value=n}get value(){return this._value}toString(){return this.value}};var de=class extends fe{constructor(e,t,o){super(o);this._name=e;this.sep=t}get name(){return this._name}toString(){return this.name+this.sep+this.value+";"}};var ge=class extends de{constructor(n,e){super(n,": ",e)}},C=class extends ge{constructor(e,t){super(e.replace(/[A-Z]/g,o=>`-${o.toLocaleLowerCase()}`),t.toString());this.key=e;this.priority=""}applyToElement(e){e.style[this.key]=this.value+this.priority}important(){return this.priority=" !important",this}get value(){return super.value+this.priority}};function Fe(r){return new C("backgroundColor",r)}function Oe(r){return new C("border",r)}function Ge(r){return new C("color",r)}function xe(r){return new C("display",r)}function Ct(r){return new C("fontFamily",r)}function We(r){return new C("fontStyle",r)}function Ne(r){return new C("fontWeight",r)}function je(r){return new C("height",r)}function ze(...r){return new C("overflow",r.join(" "))}function _e(...r){return new C("padding",r.join(" "))}function Ke(r){return new C("width",r)}function Ue(r){return pe(r)?r.element instanceof Element:!1}function Ce(r){return Ue(r)?r.element:r}function yt(r){return pe(r)&&"applyToElement"in r&&B(r.applyToElement)}function W(r,...n){r=Ce(r);for(let e of n)x(e)&&(e instanceof Node?r.append(e):Ue(e)?r.append(Ce(e)):yt(e)?e.applyToElement(r):r.append(document.createTextNode(e.toLocaleString())));return r}function ne(r,...n){let e=null;for(let t of n)if(t instanceof te&&t.key==="id"){e=document.getElementById(t.value);break}return e==null&&(e=document.createElement(r)),W(e,...n),e}function $e(r){for(r=Ce(r);r.lastChild;)r.lastChild.remove()}function Xe(){return ne("br")}function be(...r){return ne("canvas",...r)}function Ye(...r){return ne("div",...r)}function qe(...r){return ne("span",...r)}var wt="HTMLCanvasElement"in globalThis,Hn="HTMLImageElement"in globalThis,Ze=!1,ye=!Ze&&"OffscreenCanvas"in globalThis,Fn=!Ze&&"createImageBitmap"in globalThis;function A(r){return wt&&r instanceof HTMLCanvasElement}function vt(r){return ye&&r instanceof OffscreenCanvas}function Qe(r){return A(r)||vt(r)}function Et(){try{return new OffscreenCanvas(1,1).getContext("2d")!=null}catch{return!1}}var On=ye&&Et();function Tt(){try{return new OffscreenCanvas(1,1).getContext("webgl2")!=null}catch{return!1}}var Gn=ye&&Tt();function Je(r,n){return new OffscreenCanvas(r,n)}function et(r,n,e,t=1){return n=Math.floor(n*t),e=Math.floor(e*t),r.width!=n||r.height!=e?(r.width=n,r.height=e,!0):!1}function kt(r){return x(r.textBaseline)}function Pt(r,n,e,t=1){let o=r.imageSmoothingEnabled,i=r.textBaseline,s=r.textAlign,l=r.font,a=et(r.canvas,n,e,t);return a&&(r.imageSmoothingEnabled=o,r.textBaseline=i,r.textAlign=s,r.font=l),a}function H(r,n,e,t=1){return kt(r)?Pt(r,n,e,t):et(r.canvas,n,e,t)}function tt(r,n=1){return H(r,r.canvas.clientWidth,r.canvas.clientHeight,n)}function nt(){return"InstallTrigger"in globalThis}function rt(){return/^mac/i.test(navigator.platform)}function Lt(){return/iP(ad|hone|od)/.test(navigator.platform)||/Macintosh(.*?) FxiOS(.*?)\//.test(navigator.platform)||rt()&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2}function N(){return Lt()||rt()}var Mt=/OculusBrowser\/(\d+)\.(\d+)\.(\d+)/i,re=navigator.userAgent.match(Mt),oe=!!re,Nn=oe&&{major:parseFloat(re[1]),minor:parseFloat(re[2]),patch:parseFloat(re[3])},jn=oe&&/pacific/i.test(navigator.userAgent),zn=oe&&/quest/i.test(navigator.userAgent),_n=oe&&/quest 2/i.test(navigator.userAgent);var Kn="Worker"in globalThis;var j=Object.freeze(["CursorLeft","CursorRight","CursorSkipLeft","CursorSkipRight","CursorHome","CursorEnd","CursorFullHome","CursorFullEnd","SelectLeft","SelectRight","SelectSkipLeft","SelectSkipRight","SelectHome","SelectEnd","SelectFullHome","SelectFullEnd","SelectAll"]),we=Object.freeze(j.concat(["CursorDown","CursorUp","CursorPageDown","CursorPageUp","SelectDown","SelectUp","SelectPageDown","SelectPageUp","ScrollDown","ScrollUp"])),ot=["Backspace","Delete","DeleteWordLeft","DeleteWordRight","DeleteLine","Undo","Redo"],it=Object.freeze(j.concat(ot)),st=Object.freeze(we.concat(ot).concat(["AppendNewline","PrependNewline"]));var Vt=/(<%= allExceptCombiningMarks %>)(<%= combiningMarks %>+)/g,Bt=/(<%= highSurrogates %>)(<%= lowSurrogates %>)/g;function ve(r){r=r.replace(Vt,function(e,t,o){return ve(o)+t}).replace(Bt,"$2$1");let n="";for(let e=r.length-1;e>=0;--e)n+=r[e];return n}var c=class{static min(n,e){return n.i<=e.i?n:e}static max(n,e){return n.i>e.i?n:e}constructor(n,e,t){this.i=n||0,this.x=e||0,this.y=t||0,Object.seal(this)}clone(){return new c(this.i,this.x,this.y)}toString(){return`[i:${this.i} x:${this.x} y:${this.y}]`}copy(n){this.i=n.i,this.x=n.x,this.y=n.y}fullHome(){this.i=0,this.x=0,this.y=0}fullEnd(n){this.i=0;let e=0;for(let t=0;t<n.length;++t)e=n[t].stringLength,this.i+=e;this.y=n.length-1,this.x=e}left(n,e=!1){if(this.i>0)if(--this.i,--this.x,this.x<0){--this.y;let t=n[this.y];this.x=t.stringLength-1}else e||n[this.y].adjust(this,-1)}skipLeft(n){if(this.x<=1)this.left(n);else{let e=this.x-1,t=n[this.y],o=ve(t.substring(0,e)),i=o.match(/\w+/),s=i?i.index+i[0].length+1:this.x;this.i-=s,this.x-=s,n[this.y].adjust(this,-1)}}right(n,e=!1){let t=n[this.y];(this.y<n.length-1||this.x<t.stringLength)&&(++this.i,++this.x,this.y<n.length-1&&this.x===t.stringLength?(this.x=0,++this.y):e||n[this.y].adjust(this,1))}skipRight(n){let e=n[this.y];if(this.x<e.stringLength-1){let t=this.x+1,o=e.substring(t),i=o.match(/\w+/),s=i?i.index+i[0].length+1:e.stringLength-this.x;this.i+=s,this.x+=s,this.x>0&&this.x===e.stringLength&&this.y<n.length-1&&(--this.x,--this.i),n[this.y].adjust(this,1)}else this.y<n.length-1&&this.right(n)}home(){this.i-=this.x,this.x=0}end(n){let t=n[this.y].stringLength-this.x;this.y<n.length-1&&--t,this.i+=t,this.x+=t}up(n,e=!1){if(this.y>0){--this.y;let t=n[this.y],o=Math.min(0,t.stringLength-this.x-1);this.x+=o,this.i-=t.stringLength-o,e||n[this.y].adjust(this,1)}}down(n,e=!1){if(this.y<n.length-1){let t=n[this.y];++this.y,this.i+=t.stringLength;let o=n[this.y];if(this.x>=o.stringLength){let i=this.x-o.stringLength;this.y<n.length-1&&++i,this.i-=i,this.x-=i}e||n[this.y].adjust(this,1)}}incX(n,e){let t=Math.sign(e);if(e=Math.abs(e),t===-1){for(let o=0;o<e;++o)this.left(n,!0);n[this.y].adjust(this,-1)}else if(t===1){for(let o=0;o<e;++o)this.right(n,!0);n[this.y].adjust(this,1)}}incY(n,e){let t=Math.sign(e);if(e=Math.abs(e),t===-1)for(let o=0;o<e;++o)this.up(n,!0);else if(t===1)for(let o=0;o<e;++o)this.down(n,!0);n[this.y].adjust(this,1)}setXY(n,e,t){e=Math.floor(e),t=Math.floor(t),this.y=Math.max(0,Math.min(n.length-1,t));let o=n[this.y];this.x=Math.max(0,Math.min(o.stringLength,e)),this.i=this.x;for(let i=0;i<this.y;++i)this.i+=n[i].stringLength;this.x>0&&this.x===o.stringLength&&this.y<n.length-1&&(--this.x,--this.i),n[this.y].adjust(this,1)}setI(n,e){let t=this.i-e,o=Math.sign(t);this.x=this.i=e,this.y=0;let i=0,s=n[this.y];for(;this.x>s.stringLength;){if(this.x-=s.stringLength,i+=s.stringLength,this.y>=n.length-1){this.i=i,this.x=s.stringLength;break}++this.y,s=n[this.y]}this.y<n.length-1&&this.x===s.stringLength&&(this.x=0,++this.y),n[this.y].adjust(this,o)}};var ie=class extends D{constructor(e){super();this.timeout=e;this.timer=null;let t=new w("tick");this.tick=()=>{this.cancel(),this.dispatchEvent(t)},Object.freeze(this)}get isRunning(){return this.timer!==null}cancel(){let e=this.isRunning;return e&&(clearTimeout(this.timer),this.timer=null),e}start(){this.cancel(),this.timer=setInterval(this.tick,this.timeout)}};var b={name:"Dark",cursorColor:"white",unfocused:"rgba(0, 0, 255, 0.25)",currentRowBackColor:"#202020",selectedBackColor:"#404040",lineNumbers:{foreColor:"white"},regular:{backColor:"black",foreColor:"#c0c0c0"},strings:{foreColor:"#aa9900",fontStyle:"italic"},regexes:{foreColor:"#aa0099",fontStyle:"italic"},numbers:{foreColor:"green"},comments:{foreColor:"yellow",fontStyle:"italic"},keywords:{foreColor:"cyan"},functions:{foreColor:"brown",fontWeight:"bold"},members:{foreColor:"green"},error:{foreColor:"red",fontStyle:"underline italic"}},Ee={name:"Light",cursorColor:"black",unfocused:"rgba(0, 0, 255, 0.25)",currentRowBackColor:"#f0f0f0",selectedBackColor:"#c0c0c0",lineNumbers:{foreColor:"black"},regular:{backColor:"white",foreColor:"black"},strings:{foreColor:"#aa9900",fontStyle:"italic"},regexes:{foreColor:"#aa0099",fontStyle:"italic"},numbers:{foreColor:"green"},comments:{foreColor:"grey",fontStyle:"italic"},keywords:{foreColor:"blue"},functions:{foreColor:"brown",fontWeight:"bold"},members:{foreColor:"green"},error:{foreColor:"red",fontStyle:"underline italic"}},Jn=Object.freeze(new Map([["light",Ee],["dark",b]]));var se=class{constructor(n,e){this.name=n;this.test=e;this.name=n,this.test=e,Object.freeze(this)}carveOutMatchedToken(n,e){let t=n[e];if(t.type==="regular"){let o=this.test.exec(t.value);if(o){let i=o[o.length-1],s=o.input.indexOf(i),l=s+i.length;if(s===0){if(t.type=this.name,l<t.length){let a=t.splitAt(l);a.type="regular",n.splice(e+1,0,a)}}else{let a=t.splitAt(s);if(i.length<a.length){let u=a.splitAt(i.length);n.splice(e+1,0,u)}a.type=this.name,n.splice(e+1,0,a)}}}}};var L=class{constructor(n,e,t){this.value=n;this.type=e;this.startStringIndex=t;Object.seal(this)}get length(){return this.value.length}get endStringIndex(){return this.startStringIndex+this.length}clone(){return new L(this.value,this.type,this.startStringIndex)}splitAt(n){var e=this.value.substring(n);return this.value=this.value.substring(0,n),new L(e,this.type,this.startStringIndex+n)}toString(){return`[${this.type}: ${this.value}]`}};function Rt(r){var n=null,e=null;for(let t=0;t<r.length;++t){let o=r[t];e?(o.type==="stringDelim"&&o.value===e&&(t===0||r[t-1].value[r[t-1].value.length-1]!=="\\")&&(e=null),o.type!=="newlines"&&(o.type="strings")):n?((n==="startBlockComments"&&o.type==="endBlockComments"||n==="startLineComments"&&o.type==="newlines")&&(n=null),o.type!=="newlines"&&(o.type="comments")):o.type==="stringDelim"?(e=o.value,o.type="strings"):(o.type==="startBlockComments"||o.type==="startLineComments")&&(n=o.type,o.type="comments")}for(let t=r.length-1;t>0;--t){let o=r[t-1],i=r[t];o.type===i.type&&o.type!=="newlines"&&(o.value+=i.value,r.splice(t,1))}for(let t=r.length-1;t>=0;--t)r[t].length===0&&r.splice(t,1)}var v=class{constructor(n,e){this.name=n;e=e||[],this.grammar=e.map(t=>new se(t[0],t[1])),Object.freeze(this)}tokenize(n){let e=[new L(n,"regular",0)];for(let o of this.grammar)for(var t=0;t<e.length;++t)o.carveOutMatchedToken(e,t);return Rt(e),e}toHTML(n,e,t,o){t===void 0&&(t=Ee);for(var i=this.tokenize(e),s=Ye(),l=0;l<i.length;++l){var a=i[l];if(a.type==="newlines")s.appendChild(Xe());else{var u=t[a.type]||{},h=qe(Ne(u.fontWeight||t.regular.fontWeight),We(u.fontStyle||t.regular.fontStyle||""),Ge(u.foreColor||t.regular.foreColor),Fe(u.backColor||t.regular.backColor),He());W(h,a.value),s.appendChild(h)}}n.innerHTML=s.innerHTML,Object.assign(n.style,{backgroundColor:t.regular.backColor,fontSize:`${o}px`,lineHeight:`${o}px`})}};var Te=class extends v{constructor(){super("BASIC",[["newlines",/(?:\r\n|\r|\n)/],["lineNumbers",/^\d+\s+/],["whitespace",/(?:\s+)/],["startLineComments",/^REM\s/],["stringDelim",/("|')/],["numbers",/-?(?:(?:\b\d*)?\.)?\b\d+\b/],["keywords",/\b(?:RESTORE|REPEAT|RETURN|LOAD|LABEL|DATA|READ|THEN|ELSE|FOR|DIM|LET|IF|TO|STEP|NEXT|WHILE|WEND|UNTIL|GOTO|GOSUB|ON|TAB|AT|END|STOP|PRINT|INPUT|RND|INT|CLS|CLK|LEN)\b/],["keywords",/^DEF FN/],["operators",/(?:\+|;|,|-|\*\*|\*|\/|>=|<=|=|<>|<|>|OR|AND|NOT|MOD|\(|\)|\[|\])/],["members",/\w+\$?/]])}tokenize(n){return super.tokenize(n.toUpperCase())}},ke=new Te;var at=new v("HTML",[["newlines",/(?:\r\n|\r|\n)/],["whitespace",/(?:\s+)/],["startBlockComments",/(?:<|&lt;)!--/],["endBlockComments",/--(?:>|&gt;)/],["stringDelim",/("|')/],["numbers",/-?(?:(?:\b\d*)?\.)?\b\d+\b/],["keywords",/(?:<|&lt;)\/?(html|base|head|link|meta|style|title|address|article|aside|footer|header|h1|h2|h3|h4|h5|h6|hgroup|nav|section|dd|div|dl|dt|figcaption|figure|hr|li|main|ol|p|pre|ul|a|abbr|b|bdi|bdo|br|cite|code|data|dfn|em|i|kbd|mark|q|rp|rt|rtc|ruby|s|samp|small|span|strong|sub|sup|time|u|var|wbr|area|audio|img|map|track|video|embed|object|param|source|canvas|noscript|script|del|ins|caption|col|colgroup|table|tbody|td|tfoot|th|thead|tr|button|datalist|fieldset|form|input|label|legend|meter|optgroup|option|output|progress|select|textarea|details|dialog|menu|menuitem|summary|content|element|shadow|template|acronym|applet|basefont|big|blink|center|command|content|dir|font|frame|frameset|isindex|keygen|listing|marquee|multicol|nextid|noembed|plaintext|spacer|strike|tt|xmp)\b/],["members",/(\w+)=/]]);var z=new v("JavaScript",[["newlines",/(?:\r\n|\r|\n)/],["whitespace",/(?:\s+)/],["startBlockComments",/\/\*/],["endBlockComments",/\*\//],["regexes",/(?:^|,|;|\(|\[|\{)(?:\s*)(\/(?:\\\/|[^\n\/])+\/)/],["stringDelim",/("|'|`)/],["startLineComments",/\/\/.*$/m],["numbers",/-?(?:(?:\b\d*)?\.)?\b\d+\b/],["keywords",/\b(?:break|case|catch|class|const|continue|debugger|default|delete|do|else|export|finally|for|function|if|import|in|instanceof|let|new|return|super|switch|this|throw|try|typeof|var|void|while|with)\b/],["functions",/(\w+)(?:\s*\()/],["members",/(\w+)\./],["members",/((\w+\.)+)(\w+)/]]);var Pe=new v("PlainText",[["newlines",/(?:\r\n|\r|\n)/],["whitespace",/(?:\s+)/]]);var Le=Object.freeze(new Map([["basic",ke],["bas",ke],["html",at],["javascript",z],["js",z],["plaintext",Pe],["txt",Pe]]));var It=Object.freeze(new Map([["special",["Unidentified"]],["modifier",["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","ScrollLock","Shift","Super","Symbol","SymbolLock"]],["whitespace",["Enter","Tab"]],["navigation",["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp"]],["editing",["Backspace","Clear","Copy","CrSel","Cut","Delete","EraseEof","ExSel","Insert","Paste","Redo","Undo"]],["ui",["Accept","Again","Attn","Cancel","ContextMenu","Escape","Execute","Find","Finish","Help","Pause","Play","Props","Select","ZoomIn","ZoomOut"]],["device",["BrightnessDown","BrightnessUp","Eject","LogOff","Power","PowerOff","PrintScreen","Hibernate","Standby","WakeUp"]],["ime",["AllCandidates","Alphanumeric","CodeInput","Compose","Convert","Dead","FinalMode","GroupFirst","GroupNext","GroupPrevious","ModeChange","NextCandidate","NonConvert","PreviousCandidate","Process","SingleCandidate"]],["korean",["HangulMode","HanjaMode","JunjaMode"]],["japanese",["Eisu","Hankaku","Hiragana","HiraganaKatakana","KanaMode","KanjiMode","Katakana","Romaji","Zenkaku","ZenkakuHanaku"]],["function",["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","Soft1","Soft2","Soft3","Soft4"]],["phone",["AppSwitch","Call","Camera","CameraFocus","EndCall","GoBack","GoHome","HeadsetHook","LastNumberRedial","Notification","MannerMode","VoiceDial"]],["multimedia",["ChannelDown","ChannelUp","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRecord","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious"]],["audio",["AudioBalanceLeft","AudioBalanceRight","AudioBassDown","AudioBassBoostDown","AudioBassBoostToggle","AudioBassBoostUp","AudioBassUp","AudioFaderFront","AudioFaderRear","AudioSurroundModeNext","AudioTrebleDown","AudioTrebleUp","AudioVolumeDown","AudioVolumeMute","AudioVolumeUp","MicrophoneToggle","MicrophoneVolumeDown","MicrophoneVolumeMute","MicrophoneVolumeUp"]],["tv",["TV","TV3DMode","TVAntennaCable","TVAudioDescription","TVAudioDescriptionMixDown","TVAudioDescriptionMixUp","TVContentsMenu","TVDataService","TVInput","TVInputComponent1","TVInputComponent2","TVInputComposite1","TVInputComposite2","TVInputHDMI1","TVInputHDMI2","TVInputHDMI3","TVInputHDMI4","TVInputVGA1","TVMediaContext","TVNetwork","TVNumberEntry","TVPower","TVRadioService","TVSatellite","TVSatelliteBS","TVSatelliteCS","TVSatelliteToggle","TVTerrestrialAnalog","TVTerrestrialDigital","TVTimer"]],["mediaController",["AVRInput","AVRPower","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","ColorF4Grey","ColorF5Brown","ClosedCaptionToggle","Dimmer","DisplaySwap","DVR","Exit","FavoriteClear0","FavoriteClear1","FavoriteClear2","FavoriteClear3","FavoriteRecall0","FavoriteRecall1","FavoriteRecall2","FavoriteRecall3","FavoriteStore0","FavoriteStore1","FavoriteStore2","FavoriteStore3","Guide","GuideNextDay","GuidePreviousDay","Info","InstantReplay","Link","ListProgram","LiveContent","Lock","MediaApps","MediaAudioTrack","MediaLast","MediaSkipBackward","MediaSkipForward","MediaStepBackward","MediaStepForward","MediaTopMenu","NavigateIn","NavigateNext","NavigateOut","NavigatePrevious","NextFavoriteChannel","NextUserProfile","OnDemand","Pairing","PinPDown","PinPMove","PinPToggle","PinPUp","PlaySpeedDown","PlaySpeedReset","PlaySpeedUp","RandomToggle","RcLowBattery","RecordSpeedNext","RfBypass","ScanChannelsToggle","ScreenModeNext","Settings","SplitScreenToggle","STBInput","STBPower","Subtitle","Teletext","VideoModeNext","Wink","ZoomToggle"]],["speechRecognition",["SpeechCorrectionList","SpeechInputToggle"]],["document",["Close","New","Open","Print","Save","SpellCheck","MailForward","MailReply","MailSend"]],["applicationSelector",["LaunchCalculator","LaunchCalendar","LaunchContacts","LaunchMail","LaunchMediaPlayer","LaunchMusicPlayer","LaunchMyComputer","LaunchPhone","LaunchScreenSaver","LaunchSpreadsheet","LaunchWebBrowser","LaunchWebCam","LaunchWordProcessor","LaunchApplication1","LaunchApplication2","LaunchApplication3","LaunchApplication4","LaunchApplication5","LaunchApplication6","LaunchApplication7","LaunchApplication8","LaunchApplication9"]],["browserControl",["BrowserBack","BrowserFavorites","BrowserForward","BrowserHome","BrowserRefresh","BrowserSearch","BrowserStop"]],["numericKeypad",["Clear"]]])),_=new Map;for(let r of It)for(let n of r[1])_.set(n,r[0]);Object.freeze(_);var Me=!1;N()&&(window.addEventListener("keydown",r=>{r.key==="Fn"&&(Me=!0)}),window.addEventListener("keyup",r=>{r.key==="Fn"&&(Me=!1)}));function lt(r){return r.key==="OS"&&(r.code==="OSLeft"||r.code==="OSRight")?"Meta":r.key==="Scroll"?"ScrollLock":r.key==="Win"?"Meta":r.key==="Spacebar"?" ":r.key===`
`?"Enter":r.key==="Down"?"ArrowDown":r.key==="Left"?"ArrowLeft":r.key==="Right"?"ArrowRight":r.key==="Up"?"ArrowUp":r.key==="Del"?"Delete":r.key==="Delete"&&N()&&Me?"Backspace":r.key==="Crsel"?"CrSel":r.key==="Exsel"?"ExSel":r.key==="Esc"?"Escape":r.key==="Apps"?"ContextMenu":r.key==="Multi"?"Compose":r.key==="Nonconvert"?"NonConvert":r.key==="RomanCharacters"?"Eisu":r.key==="HalfWidth"?"Hankaku":r.key==="FullWidth"?"Zenkaku":r.key==="Exit"||r.key==="MozHomeScreen"?"GoHome":r.key==="MediaNextTrack"?"MediaTrackNext":r.key==="MediaPreviousTrack"?"MediaTrackPrevious":r.key==="FastFwd"?"MedaiFastFwd":r.key==="VolumeDown"?"AudioVolumeDown":r.key==="VolumeMute"?"AudioVolumeMute":r.key==="VolumeUp"?"AudioVolumeUp":r.key==="Live"?"TV":r.key==="Zoom"?"ZoomToggle":r.key==="SelectMedia"||r.key==="MediaSelect"?"LaunchMediaPlayer":r.key==="Add"?"+":r.key==="Divide"?"/":r.key==="Decimal"?".":r.key==="Key11"?"11":r.key==="Key12"?"12":r.key==="Multiply"?"*":r.key==="Subtract"?"-":r.key==="Separator"?",":r.key}var f=Object.seal({type:"",text:"",command:""}),ae=class{constructor(n,e,t,o,i,s,l,a,u,h){this.name=n;let g=i;i.length===0&&(i="Normal");let m=Object.freeze(new Map([["Normal_ArrowDown","CursorDown"],["Normal_ArrowLeft","CursorLeft"],["Normal_ArrowRight","CursorRight"],["Normal_ArrowUp","CursorUp"],["Normal_PageDown","CursorPageDown"],["Normal_PageUp","CursorPageUp"],[`${t}_ArrowLeft`,"CursorSkipLeft"],[`${t}_ArrowRight`,"CursorSkipRight"],[`${i}_${s}`,"CursorHome"],[`${i}_${l}`,"CursorEnd"],[`${a}_${u}`,"CursorFullHome"],[`${a}_${h}`,"CursorFullEnd"],["Shift_ArrowDown","SelectDown"],["Shift_ArrowLeft","SelectLeft"],["Shift_ArrowRight","SelectRight"],["Shift_ArrowUp","SelectUp"],["Shift_PageDown","SelectPageDown"],["Shift_PageUp","SelectPageUp"],[`${t}Shift_ArrowLeft`,"SelectSkipLeft"],[`${t}Shift_ArrowRight`,"SelectSkipRight"],[`${g}Shift_${s}`,"SelectHome"],[`${g}Shift_${l}`,"SelectEnd"],[`${a}Shift_${u}`,"SelectFullHome"],[`${a}Shift_${h}`,"SelectFullEnd"],[`${e}_a`,"SelectAll"],[`${e}_ArrowDown`,"ScrollDown"],[`${e}_ArrowUp`,"ScrollUp"],["Normal_Backspace","DeleteLetterLeft"],["Normal_Delete","DeleteLetterRight"],[`${t}_Backspace`,"DeleteWordLeft"],[`${t}_Delete`,"DeleteWordRight"],["Shift_Delete","DeleteLine"],["Normal_Enter","AppendNewline"],[`${t}_Enter`,"PrependNewline"],["Normal_Tab","InsertTab"],["Shift_Tab","RemoveTab"],[`${e}_z`,"Undo"],[o,"Redo"]]));this.makeCommand=p=>(f.text=lt(p),f.type=_.has(f.text)?_.get(f.text):"printable",f.command="",(p.ctrlKey||p.altKey||p.metaKey)&&((f.type==="printable"||f.type==="whitespace")&&(f.type="special"),p.ctrlKey&&(f.command+="Control"),p.altKey&&(f.command+="Alt"),p.metaKey&&(f.command+="Meta")),p.shiftKey&&(f.command+="Shift"),f.command===""&&(f.command+="Normal"),f.command+="_"+f.text,m.has(f.command)&&(f.command=m.get(f.command)),f.command==="PrependNewline"&&(f.type="whitespace"),f),Object.freeze(this)}},ut=new ae("Windows","Control","Control","Control_y","","Home","End","Control","Home","End"),ct=new ae("macOS","Meta","Alt","MetaShift_z","Meta","ArrowLeft","ArrowRight","Meta","ArrowUp","ArrowDown");var E=class{constructor(n=0,e=0){this.x=n;this.y=e;Object.seal(this)}set(n,e){this.x=n,this.y=e}copy(n){n&&(this.x=n.x,this.y=n.y)}toCell(n,e,t){this.x=Math.round(this.x/n.width)+e.x-t.x,this.y=Math.floor(this.y/n.height-.25)+e.y}inBounds(n){return n.left<=this.x&&this.x<n.right&&n.top<=this.y&&this.y<n.bottom}clone(){return new E(this.x,this.y)}toString(){return`(x:${this.x}, y:${this.y})`}};var T=class{constructor(n=0,e=0){this.width=n;this.height=e;Object.seal(this)}set(n,e){this.width=n,this.height=e}copy(n){n&&(this.width=n.width,this.height=n.height)}clone(){return new T(this.width,this.height)}toString(){return`<w:${this.width}, h:${this.height}>`}};var M=class{constructor(n,e,t,o){this.point=new E(n,e),this.size=new T(t,o),Object.freeze(this)}get x(){return this.point.x}set x(n){this.point.x=n}get left(){return this.point.x}set left(n){this.point.x=n}get width(){return this.size.width}set width(n){this.size.width=n}get right(){return this.point.x+this.size.width}set right(n){this.point.x=n-this.size.width}get y(){return this.point.y}set y(n){this.point.y=n}get top(){return this.point.y}set top(n){this.point.y=n}get height(){return this.size.height}set height(n){this.size.height=n}get bottom(){return this.point.y+this.size.height}set bottom(n){this.point.y=n-this.size.height}get area(){return this.width*this.height}set(n,e,t,o){this.point.set(n,e),this.size.set(t,o)}copy(n){n&&(this.point.copy(n.point),this.size.copy(n.size))}clone(){return new M(this.point.x,this.point.y,this.size.width,this.size.height)}overlap(n){let e=Math.max(this.left,n.left),t=Math.max(this.top,n.top),o=Math.min(this.right,n.right),i=Math.min(this.bottom,n.bottom);return o>e&&i>t?new M(e,t,o-e,i-t):null}toString(){return`[${this.point.toString()} x ${this.size.toString()}]`}};var k=class{constructor(n,e,t,o,i){this.text=n;this.tokens=e;this.startStringIndex=t;this.startTokenIndex=o;this.lineNumber=i;let s=Object.freeze([...n]);this.leftCorrections=new Array(n.length),this.rightCorrections=new Array(n.length);let l=0;for(let a of s){this.leftCorrections[l]=0,this.rightCorrections[l]=0;for(let u=1;u<a.length;++u)this.leftCorrections[l+u]=-u,this.rightCorrections[l+u]=a.length-u;l+=a.length}Object.seal(this)}static emptyRow(n,e,t){return new k("",[],n,e,t)}toString(){return this.text}substring(n,e){return this.text.substring(n,e)}adjust(n,e){let t=e===-1?this.leftCorrections:this.rightCorrections;if(n.x<t.length){let o=t[n.x];n.x+=o,n.i+=o}else e===1&&this.text[this.text.length-1]===`
`&&this.adjust(n,-1)}get stringLength(){return this.text.length}get endStringIndex(){return this.startStringIndex+this.stringLength}get numTokens(){return this.tokens.length}get endTokenIndex(){return this.startTokenIndex+this.numTokens}};function ht(r,n,e){let t=r-n,o=r-e+5,i=0;return(t<0||o>=0)&&(i=Math.abs(t)<Math.abs(o)?t:o),i}var P=null,ce=null,pt=[],Ve=[],Dt=4,le=2,ft=nt()?3:100,At=Object.freeze({readOnly:!1,multiLine:!0,wordWrap:!0,scrollBars:!0,lineNumbers:!0,padding:0,fontSize:16,language:"JavaScript",scaleFactor:devicePixelRatio}),ue=new WeakMap,Ht=(document.readyState==="complete"?Promise.resolve("already"):new Promise(r=>{document.addEventListener("readystatechange",()=>{document.readyState==="complete"&&r("had to wait for it")},!1)})).then(()=>{for(let r of document.getElementsByTagName("primrose"))new F({element:r})}),F=class extends D{constructor(e){super();this._value="";this._padding=0;this._fontSize=null;this._scaleFactor=2;this._readOnly=!1;this._wordWrap=!1;this._multiLine=!1;this._language=z;this._showScrollBars=!1;this._showLineNumbers=!1;this._hovered=!1;this._focused=!1;this._element=null;this._theme=b;this._tabWidth=2;this.currentTouchID=null;this.vibX=0;this.vibY=0;this.tx=0;this.ty=0;this.canv=null;this.resized=!1;this.pressed=!1;this.tabString="  ";this.dragging=!1;this.historyIndex=-1;this.scrolling=!1;this.tabPressed=!1;this.lineCount=1;this.lineCountWidth=0;this.controlType=j;this.maxVerticalScroll=0;this.currentValue="";this.currentTabIndex=-1;this.lastCharacterHeight=null;this.lastCharacterWidth=null;this.lastFrontCursor=null;this.lastGridBounds=null;this.lastBackCursor=null;this.lastThemeName=null;this.lastPadding=null;this.lastFocused=null;this.lastScrollX=null;this.lastScrollY=null;this.lastScrollDX=null;this.lastScrollDY=null;this.lastFont=null;this.lastText=null;this.history=[];this.tokens=new Array;this.rows=[k.emptyRow(0,0,0)];this.scroll=new E;this.pointer=new E;this.character=new T;this.bottomRightGutter=new T;this.gridBounds=new M;this.tokenBack=new c;this.tokenFront=new c;this.backCursor=new c;this.frontCursor=new c;this.outEvt=new w("out");this.overEvt=new w("over");this.blurEvt=new w("blur");this.focusEvt=new w("focus");this.changeEvt=new w("change");this.updateEvt=new w("update");this.os=N()?ct:ut;this.longPress=new ie(1e3);this._renderTimer=null;this.pointerMove=()=>{this.dragging?this.moveCursor(this.backCursor):this.pressed&&this.dragScroll()};if(e=e||{},e.element===void 0&&(e.element=null),e.element!==null&&!(e.element instanceof HTMLElement))throw new Error("element must be null, an instance of HTMLElement, an instance of HTMLCanvaseElement, or an instance of OffscreenCanvas");if(e=Object.assign({},At,e),this.keyDownCommands=Object.freeze(new Map([["CursorUp",()=>{let o=c.min(this.frontCursor,this.backCursor),i=c.max(this.frontCursor,this.backCursor);o.up(this.rows),i.copy(o),this.scrollIntoView(this.frontCursor)}],["CursorDown",()=>{let o=c.min(this.frontCursor,this.backCursor),i=c.max(this.frontCursor,this.backCursor);i.down(this.rows),o.copy(i),this.scrollIntoView(this.frontCursor)}],["CursorLeft",()=>{let o=c.min(this.frontCursor,this.backCursor),i=c.max(this.frontCursor,this.backCursor);o.i===i.i&&o.left(this.rows),i.copy(o),this.scrollIntoView(this.frontCursor)}],["CursorRight",()=>{let o=c.min(this.frontCursor,this.backCursor),i=c.max(this.frontCursor,this.backCursor);o.i===i.i&&i.right(this.rows),o.copy(i),this.scrollIntoView(this.frontCursor)}],["CursorPageUp",()=>{let o=c.min(this.frontCursor,this.backCursor),i=c.max(this.frontCursor,this.backCursor);o.incY(this.rows,-this.gridBounds.height),i.copy(o),this.scrollIntoView(this.frontCursor)}],["CursorPageDown",()=>{let o=c.min(this.frontCursor,this.backCursor),i=c.max(this.frontCursor,this.backCursor);i.incY(this.rows,this.gridBounds.height),o.copy(i),this.scrollIntoView(this.frontCursor)}],["CursorSkipLeft",()=>{let o=c.min(this.frontCursor,this.backCursor),i=c.max(this.frontCursor,this.backCursor);o.i===i.i&&o.skipLeft(this.rows),i.copy(o),this.scrollIntoView(this.frontCursor)}],["CursorSkipRight",()=>{let o=c.min(this.frontCursor,this.backCursor),i=c.max(this.frontCursor,this.backCursor);o.i===i.i&&i.skipRight(this.rows),o.copy(i),this.scrollIntoView(this.frontCursor)}],["CursorHome",()=>{this.frontCursor.home(),this.backCursor.copy(this.frontCursor),this.scrollIntoView(this.frontCursor)}],["CursorEnd",()=>{this.frontCursor.end(this.rows),this.backCursor.copy(this.frontCursor),this.scrollIntoView(this.frontCursor)}],["CursorFullHome",()=>{this.frontCursor.fullHome(),this.backCursor.copy(this.frontCursor),this.scrollIntoView(this.frontCursor)}],["CursorFullEnd",()=>{this.frontCursor.fullEnd(this.rows),this.backCursor.copy(this.frontCursor),this.scrollIntoView(this.frontCursor)}],["SelectDown",()=>{this.backCursor.down(this.rows),this.scrollIntoView(this.frontCursor)}],["SelectLeft",()=>{this.backCursor.left(this.rows),this.scrollIntoView(this.backCursor)}],["SelectRight",()=>{this.backCursor.right(this.rows),this.scrollIntoView(this.backCursor)}],["SelectUp",()=>{this.backCursor.up(this.rows),this.scrollIntoView(this.backCursor)}],["SelectPageDown",()=>{this.backCursor.incY(this.rows,this.gridBounds.height),this.scrollIntoView(this.backCursor)}],["SelectPageUp",()=>{this.backCursor.incY(this.rows,-this.gridBounds.height),this.scrollIntoView(this.backCursor)}],["SelectSkipLeft",()=>{this.backCursor.skipLeft(this.rows),this.scrollIntoView(this.backCursor)}],["SelectSkipRight",()=>{this.backCursor.skipRight(this.rows),this.scrollIntoView(this.backCursor)}],["SelectHome",()=>{this.backCursor.home(),this.scrollIntoView(this.backCursor)}],["SelectEnd",()=>{this.backCursor.end(this.rows),this.scrollIntoView(this.backCursor)}],["SelectFullHome",()=>{this.backCursor.fullHome(),this.scrollIntoView(this.backCursor)}],["SelectFullEnd",()=>{this.backCursor.fullEnd(this.rows),this.scrollIntoView(this.backCursor)}],["SelectAll",()=>{this.frontCursor.fullHome(),this.backCursor.fullEnd(this.rows),this.render()}],["ScrollDown",()=>{this.scroll.y<this.rows.length-this.gridBounds.height&&this.scrollBy(0,1)}],["ScrollUp",()=>{this.scroll.y>0&&this.scrollBy(0,-1)}],["DeleteLetterLeft",()=>{this.frontCursor.i===this.backCursor.i&&this.backCursor.left(this.rows),this.setSelectedText("")}],["DeleteLetterRight",()=>{this.frontCursor.i===this.backCursor.i&&this.backCursor.right(this.rows),this.setSelectedText("")}],["DeleteWordLeft",()=>{this.frontCursor.i===this.backCursor.i&&this.frontCursor.skipLeft(this.rows),this.setSelectedText("")}],["DeleteWordRight",()=>{this.frontCursor.i===this.backCursor.i&&this.backCursor.skipRight(this.rows),this.setSelectedText("")}],["DeleteLine",()=>{this.frontCursor.i===this.backCursor.i&&(this.frontCursor.home(),this.backCursor.end(this.rows),this.backCursor.right(this.rows)),this.setSelectedText("")}],["Undo",()=>{this.moveInHistory(-1)}],["Redo",()=>{this.moveInHistory(1)}],["InsertTab",()=>{this.tabPressed=!0,this.setSelectedText(this.tabString)}],["RemoveTab",()=>{let o=this.rows[this.frontCursor.y],i=Math.min(this.frontCursor.x,this.tabWidth);for(let s=0;s<this.frontCursor.x;++s)if(o.text[s]!==" ")return;this.backCursor.copy(this.frontCursor),this.backCursor.incX(this.rows,-i),this.setSelectedText("")}]])),this.keyPressCommands=Object.freeze(new Map([["AppendNewline",()=>{if(this.multiLine){let o="",i=this.rows[this.frontCursor.y].tokens;i.length>0&&i[0].type==="whitespace"&&(o=i[0].value),this.setSelectedText(`
`+o)}else this.dispatchEvent(this.changeEvt)}],["PrependNewline",()=>{if(this.multiLine){let o="",i=this.rows[this.frontCursor.y].tokens;i.length>0&&i[0].type==="whitespace"&&(o=i[0].value),this.frontCursor.home(),this.backCursor.copy(this.frontCursor),this.setSelectedText(o+`
`)}else this.dispatchEvent(this.changeEvt)}],["Undo",()=>{this.moveInHistory(-1)}]])),this._mouse=Object.freeze({readOverEventUV:this.pointerOver,readOutEventUV:this.pointerOut,readDownEventUV:this.mouseLikePointerDown(this.setUVPointer),readUpEventUV:this.mouseLikePointerUp,readMoveEventUV:this.mouseLikePointerMove(this.setUVPointer)}),this._touch=Object.freeze({readOverEventUV:this.pointerOver,readOutEventUV:this.pointerOut,readDownEventUV:this.touchLikePointerDown(this.setUVPointer),readMoveEventUV:this.touchLikePointerMove(this.setUVPointer),readUpEventUV:this.touchLikePointerUp}),A(e.element)){let o=e.element,i=o.width,s=o.height;this.currentTabIndex=o.tabIndex;let a=(o.dataset.options||"").trim().split(","),u={};for(let h of a)if(h=h.trim(),h.length>0){let g=h.split("=");if(g.length>1){let m=g[0].trim(),p=g[1].trim(),y=p.toLocaleLowerCase();y==="true"||y==="false"?u[m]=y==="true":u[m]=p}}this.currentValue=o.textContent,e=Object.assign(e,{width:i,height:s},u)}if(e.element===null?this.canv=Je(e.width,e.height):Qe(e.element)?this._element=this.canv=e.element:(this._element=e.element,$e(this.element),this.canv=be(Ke(me(100)),je(me(100))),this.element.appendChild(this.canv),this.element.removeAttribute("tabindex"),W(this.element,xe("block"),_e(0),Oe("2px inset #c0c0c0"),ze("unset"))),this.canv instanceof HTMLCanvasElement&&this.isInDocument){if(this.currentTabIndex===-1){let o=document.querySelectorAll("[tabindex]");for(let i of o)this.currentTabIndex=Math.max(this.currentTabIndex,i.tabIndex);++this.currentTabIndex}this.canv.tabIndex=this.currentTabIndex,this.canv.style.touchAction="none",this.canv.addEventListener("focus",()=>this.focus()),this.canv.addEventListener("blur",()=>this.blur()),this.canv.addEventListener("mouseover",this.readMouseOverEvent),this.canv.addEventListener("mouseout",this.readMouseOutEvent),this.canv.addEventListener("mousedown",this.readMouseDownEvent),this.canv.addEventListener("mouseup",this.readMouseUpEvent),this.canv.addEventListener("mousemove",this.readMouseMoveEvent),this.canv.addEventListener("touchstart",this.readTouchStartEvent),this.canv.addEventListener("touchend",this.readTouchEndEvent),this.canv.addEventListener("touchmove",this.readTouchMoveEvent),new ResizeObserver(()=>this.resize()).observe(this.canv)}this.context.imageSmoothingEnabled=this.fgfx.imageSmoothingEnabled=this.bgfx.imageSmoothingEnabled=this.tgfx.imageSmoothingEnabled=!0,this.context.textBaseline=this.fgfx.textBaseline=this.bgfx.textBaseline=this.tgfx.textBaseline="top",this.tgfx.textAlign="right",this.fgfx.textAlign="left",this.longPress.addEventListener("tick",()=>{this.startSelecting(),this.backCursor.copy(this.frontCursor),this.frontCursor.skipLeft(this.rows),this.backCursor.skipRight(this.rows),this.render(),navigator.vibrate(20)}),this.addEventListener("blur",()=>{this.tabPressed&&(this.tabPressed=!1,this.focus())});let t=null;R(e.language)&&(e.language=e.language.toLocaleLowerCase(),Le.has(e.language)&&(t=Le.get(e.language))),Object.freeze(e),Object.seal(this),this.readOnly=e.readOnly,this.multiLine=e.multiLine,this.wordWrap=e.wordWrap,this.showScrollBars=e.scrollBars,this.showLineNumbers=e.lineNumbers,this.padding=e.padding,this.fontSize=e.fontSize,this.language=t,this.scaleFactor=e.scaleFactor,this.value=this.currentValue,F.add(this.element,this)}static add(e,t){e!==null&&ue.set(e,t),Ve.indexOf(t)===-1&&(Ve.push(t),De(pt,...Ve.slice()),t.addEventListener("blur",()=>{P=null}),t.addEventListener("focus",()=>{P!==null&&(!P.isInDocument||!t.isInDocument)&&P.blur(),P=t}),t.addEventListener("over",()=>{ce=t}),t.addEventListener("out",()=>{ce=null}))}static has(e){return ue.has(e)}static get(e){return ue.has(e)?ue.get(e):null}static get hoveredControl(){return ce}static get focusedControl(){return P}static get editors(){return pt}static get ready(){return Ht}render(){x(this._renderTimer)&&(clearTimeout(this._renderTimer),this._renderTimer=null),setTimeout(()=>{this._renderTimer=null,this.doRender()},0)}get element(){return this._element}get isInDocument(){return A(this.canv)&&document.body.contains(this.canv)}get canvas(){return this.canv}get hovered(){return this._hovered}get focused(){return this._focused}set focused(e){e!==this.focused&&(e?this.focus():this.blur())}get readOnly(){return this._readOnly}set readOnly(e){e=!!e,e!==this.readOnly&&(this._readOnly=e,this.refreshControlType())}get multiLine(){return this._multiLine}set multiLine(e){e=!!e,e!==this.multiLine&&(!e&&this.wordWrap&&(this.wordWrap=!1),this._multiLine=e,this.refreshControlType(),this.refreshGutter())}get wordWrap(){return this._wordWrap}set wordWrap(e){e=!!e,e!==this.wordWrap&&(this.multiLine||!e)&&(this._wordWrap=e,this.refreshGutter(),this.render())}get value(){return this._value}set value(e){this.setValue(e,!0)}get text(){return this.value}set text(e){this.setValue(e,!0)}get selectedText(){let e=c.min(this.frontCursor,this.backCursor),t=c.max(this.frontCursor,this.backCursor);return this.value.substring(e.i,t.i)}set selectedText(e){this.setSelectedText(e)}get selectionStart(){return this.frontCursor.i}set selectionStart(e){e=e|0,e!==this.frontCursor.i&&(this.frontCursor.setI(this.rows,e),this.render())}get selectionEnd(){return this.backCursor.i}set selectionEnd(e){e=e|0,e!==this.backCursor.i&&(this.backCursor.setI(this.rows,e),this.render())}get selectionDirection(){return this.frontCursor.i<=this.backCursor.i?"forward":"backward"}get tabWidth(){return this._tabWidth}set tabWidth(e){this._tabWidth=e||2,this.tabString="";for(let t=0;t<this.tabWidth;++t)this.tabString+=" "}get theme(){return this._theme}set theme(e){e!==this.theme&&(this._theme=e,this.render())}get language(){return this._language}set language(e){e!==this.language&&(this._language=e,this.refreshAllTokens())}get padding(){return this._padding}set padding(e){e=e|0,e!==this.padding&&(this._padding=e,this.render())}get showLineNumbers(){return this._showLineNumbers}set showLineNumbers(e){e=e||!1,e!==this.showLineNumbers&&(this._showLineNumbers=e,this.refreshGutter())}get showScrollBars(){return this._showScrollBars}set showScrollBars(e){e=e||!1,e!==this.showScrollBars&&(this._showScrollBars=e,this.refreshGutter())}get fontSize(){return this._fontSize}set fontSize(e){e=Math.max(1,e||0),e!==this.fontSize&&(this._fontSize=e,this.context.font=`${this.fontSize}px ${Se()}`,this.character.height=this.fontSize,this.character.width=this.context.measureText("MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM").width/100,this.refreshAllTokens())}get scaleFactor(){return this._scaleFactor}set scaleFactor(e){if(e=Math.max(.25,Math.min(4,e||0)),e!==this.scaleFactor){let t=this.width,o=this.height;this._scaleFactor=e,this.setSize(t,o)}}get width(){return this.canv.width/this.scaleFactor}set width(e){this.setSize(e,this.height)}get height(){return this.canv.height/this.scaleFactor}set height(e){this.setSize(this.width,e)}get mouse(){return this._mouse}get touch(){return this._touch}fillRect(e,t,o,i,s,l){e.fillStyle=t,e.fillRect(o*this.character.width,i*this.character.height,s*this.character.width+1,l*this.character.height+1)}strokeRect(e,t,o,i,s,l){e.strokeStyle=t,e.strokeRect(o*this.character.width,i*this.character.height,s*this.character.width+1,l*this.character.height+1)}renderCanvasBackground(){let e=c.min(this.frontCursor,this.backCursor),t=c.max(this.frontCursor,this.backCursor);this.bgfx.clearRect(0,0,this.canv.width,this.canv.height),this.theme.regular.backColor&&(this.bgfx.fillStyle=this.theme.regular.backColor,this.bgfx.fillRect(0,0,this.canv.width,this.canv.height)),this.bgfx.save(),this.bgfx.scale(this.scaleFactor,this.scaleFactor),this.bgfx.translate((this.gridBounds.x-this.scroll.x)*this.character.width+this.padding,-this.scroll.y*this.character.height+this.padding),this.focused&&this.fillRect(this.bgfx,this.theme.currentRowBackColor||b.currentRowBackColor,0,e.y,this.gridBounds.width,t.y-e.y+1);let o=this.scroll.y|0,i=o+this.gridBounds.height,s=this.scroll.x|0,l=s+this.gridBounds.width;this.tokenFront.setXY(this.rows,0,o),this.tokenBack.copy(this.tokenFront);for(let a=o;a<=i&&a<this.rows.length;++a){let u=this.rows[a].tokens;for(let h=0;h<u.length;++h){let g=u[h];if(this.tokenBack.x+=g.length,this.tokenBack.i+=g.length,s<=this.tokenBack.x&&this.tokenFront.x<=l&&e.i<=this.tokenBack.i&&this.tokenFront.i<t.i){let p=c.max(e,this.tokenFront),V=c.min(t,this.tokenBack).i-p.i;this.fillRect(this.bgfx,this.theme.selectedBackColor||b.selectedBackColor,p.x,p.y,V,1)}this.tokenFront.copy(this.tokenBack)}this.tokenFront.x=0,++this.tokenFront.y,this.tokenBack.copy(this.tokenFront)}if(this.focused){let a=this.theme.cursorColor||b.cursorColor,u=1/this.character.width;this.fillRect(this.bgfx,a,e.x,e.y,u,1),this.fillRect(this.bgfx,a,t.x,t.y,u,1)}this.bgfx.restore()}renderCanvasForeground(){this.fgfx.clearRect(0,0,this.canv.width,this.canv.height),this.fgfx.save(),this.fgfx.scale(this.scaleFactor,this.scaleFactor),this.fgfx.translate((this.gridBounds.x-this.scroll.x)*this.character.width+this.padding,this.padding);let e=this.scroll.y|0,t=e+this.gridBounds.height,o=this.scroll.x|0,i=o+this.gridBounds.width;this.tokenFront.setXY(this.rows,0,e),this.tokenBack.copy(this.tokenFront);for(let s=e;s<=t&&s<this.rows.length;++s){let l=this.rows[s].tokens,a=(s-this.scroll.y)*this.character.height;for(let u=0;u<l.length;++u){let h=l[u];if(this.tokenBack.x+=h.length,this.tokenBack.i+=h.length,o<=this.tokenBack.x&&this.tokenFront.x<=i){let g=this.theme[h.type]||{},m=g.fontWeight||this.theme.regular.fontWeight||b.regular.fontWeight||"",p=g.fontStyle||this.theme.regular.fontStyle||b.regular.fontStyle||"",y=`${m} ${p} ${this.context.font}`;this.fgfx.font=y.trim(),this.fgfx.fillStyle=g.foreColor||this.theme.regular.foreColor,this.fgfx.fillText(h.value,this.tokenFront.x*this.character.width,a)}this.tokenFront.copy(this.tokenBack)}this.tokenFront.x=0,++this.tokenFront.y,this.tokenBack.copy(this.tokenFront)}this.fgfx.restore()}renderCanvasTrim(){this.tgfx.clearRect(0,0,this.canv.width,this.canv.height),this.tgfx.save(),this.tgfx.scale(this.scaleFactor,this.scaleFactor),this.tgfx.translate(this.padding,this.padding),this.showLineNumbers&&(this.fillRect(this.tgfx,this.theme.selectedBackColor||b.selectedBackColor,0,0,this.gridBounds.x,this.width-this.padding*2),this.strokeRect(this.tgfx,this.theme.regular.foreColor||b.regular.foreColor,0,0,this.gridBounds.x,this.height-this.padding*2));let e=2;this.tgfx.save();{this.tgfx.translate((this.lineCountWidth-.5)*this.character.width,-this.scroll.y*this.character.height);let t=-1,o=this.scroll.y|0,i=o+this.gridBounds.height;this.tokenFront.setXY(this.rows,0,o),this.tokenBack.copy(this.tokenFront);for(let s=o;s<=i&&s<this.rows.length;++s){let l=this.rows[s];e=Math.max(e,l.stringLength),this.showLineNumbers&&l.lineNumber>t&&(t=l.lineNumber,this.tgfx.font="bold "+this.context.font,this.tgfx.fillStyle=this.theme.regular.foreColor,this.tgfx.fillText(l.lineNumber.toFixed(0),0,s*this.character.height))}}if(this.tgfx.restore(),this.showScrollBars){if(this.tgfx.fillStyle=this.theme.selectedBackColor||b.selectedBackColor,!this.wordWrap&&e>this.gridBounds.width){let t=this.gridBounds.width*this.character.width-this.padding,o=this.scroll.x*t/e+this.gridBounds.x*this.character.width,i=t*(this.gridBounds.width/e),s=this.height-this.character.height-this.padding,l=Math.max(this.character.width,i);this.tgfx.fillRect(o,s,l,this.character.height),this.tgfx.strokeRect(o,s,l,this.character.height)}if(this.rows.length>this.gridBounds.height){let t=this.gridBounds.height*this.character.height,o=this.scroll.y*t/this.rows.length,i=t*(this.gridBounds.height/this.rows.length),s=this.width-le*this.character.width-2*this.padding,l=le*this.character.width,a=Math.max(this.character.height,i);this.tgfx.fillRect(s,o,l,a),this.tgfx.strokeRect(s,o,l,a)}}this.tgfx.restore(),this.focused||(this.tgfx.fillStyle=this.theme.unfocused||b.unfocused,this.tgfx.fillRect(0,0,this.canv.width,this.canv.height))}doRender(){if(this.theme){let e=this.lastText!==this.value,t=this.focused!==this.lastFocused,o=this.context.font!==this.lastFont,i=this.padding!==this.lastPadding,s=this.theme.name!==this.lastThemeName,l=this.gridBounds.toString()!==this.lastGridBounds,a=this.character.width!==this.lastCharacterWidth,u=this.character.height!==this.lastCharacterHeight,h=this.frontCursor.i!==this.lastFrontCursor||this.backCursor.i!==this.lastBackCursor,g=this.scroll.x!==this.lastScrollX||this.scroll.y!==this.lastScrollY,m=this.resized||l||e||a||u||i||g||s,p=m||h,y=m||o,V=m||t;p&&this.renderCanvasBackground(),y&&this.renderCanvasForeground(),V&&this.renderCanvasTrim(),this.context.clearRect(0,0,this.canv.width,this.canv.height),this.context.save(),this.context.translate(this.vibX,this.vibY),this.context.drawImage(this.bg,0,0),this.context.drawImage(this.fg,0,0),this.context.drawImage(this.tg,0,0),this.context.restore(),this.lastGridBounds=this.gridBounds.toString(),this.lastText=this.value,this.lastCharacterWidth=this.character.width,this.lastCharacterHeight=this.character.height,this.lastPadding=this.padding,this.lastFrontCursor=this.frontCursor.i,this.lastBackCursor=this.backCursor.i,this.lastFocused=this.focused,this.lastFont=this.context.font,this.lastThemeName=this.theme.name,this.lastScrollX=this.scroll.x,this.lastScrollY=this.scroll.y,this.resized=!1,this.dispatchEvent(this.updateEvt)}}refreshControlType(){let e=this.controlType;this.readOnly&&this.multiLine?this.controlType=we:this.readOnly&&!this.multiLine?this.controlType=j:!this.readOnly&&this.multiLine?this.controlType=st:this.controlType=it,this.controlType!==e&&this.refreshAllTokens()}refreshGutter(){this.showScrollBars?this.wordWrap?this.bottomRightGutter.set(le,0):this.bottomRightGutter.set(le,1):this.bottomRightGutter.set(0,0)}setValue(e,t){e=e||"",e=e.replace(/\r\n/g,`
`),e!==this.value&&(this._value=e,t&&this.pushUndo(),this.refreshAllTokens(),this.dispatchEvent(this.changeEvt))}setSelectedText(e){if(e=e||"",e=e.replace(/\r\n/g,`
`),this.frontCursor.i!==this.backCursor.i||e.length>0){let t=c.min(this.frontCursor,this.backCursor),o=c.max(this.frontCursor,this.backCursor),i=this.rows[t.y],s=this.rows[o.y],l=this.value.substring(0,i.startStringIndex),a=this.value.substring(s.endStringIndex),u=t.i-i.startStringIndex,h=i.substring(0,u),g=o.i-s.startStringIndex,m=s.substring(g),p=h+e+m;this.value=l+p+a,this.pushUndo(),this.refreshTokens(t.y,o.y,p),this.frontCursor.setI(this.rows,t.i+e.length),this.backCursor.copy(this.frontCursor),this.scrollIntoView(this.frontCursor),this.dispatchEvent(this.changeEvt)}}refreshAllTokens(){this.refreshTokens(0,this.rows.length-1,this.value)}refreshTokens(e,t,o){for(;e>0&&this.rows[e].lineNumber===this.rows[e-1].lineNumber;)--e,o=this.rows[e].text+o;for(;t<this.rows.length-1&&this.rows[t].lineNumber===this.rows[t+1].lineNumber;)++t,o+=this.rows[t].text;let i=this.language.tokenize(o),s=this.rows[e],l=s.startTokenIndex,a=s.lineNumber,u=s.startStringIndex,m=this.rows[t].endTokenIndex-l,p=this.tokens.splice(l,m,...i);if(this.lineCountWidth=0,this.showLineNumbers){for(let d of p)d.type==="newlines"&&--this.lineCount;for(let d of i)d.type==="newlines"&&++this.lineCount;this.lineCountWidth=Math.max(1,Math.ceil(Math.log(this.lineCount)/Math.LN10))+1}let y=Math.floor(this.lineCountWidth+this.padding/this.character.width),V=Math.floor(this.padding/this.character.height),dt=Math.floor((this.width-2*this.padding)/this.character.width)-y-this.bottomRightGutter.width,gt=Math.floor((this.height-2*this.padding)/this.character.height)-V-this.bottomRightGutter.height;this.gridBounds.set(y,V,dt,gt);let U=i.map(d=>d.clone()),mt=t-e+1,he=[],O="",$=[],X=u,Y=l,q=a;for(let d=0;d<U.length;++d){let S=U[d],Be=this.gridBounds.width-O.length,Re=this.wordWrap&&S.type!=="newlines"&&S.length>Be,St=S.type==="newlines"||Re;if(Re){let xt=S.length>this.gridBounds.width?Be:0;U.splice(d+1,0,S.splitAt(xt))}$.push(S),O+=S.value,(St||d===U.length-1)&&(he.push(new k(O,$,X,Y,q)),X+=O.length,Y+=$.length,$=[],O="",S.type==="newlines"&&++q)}this.rows.splice(e,mt,...he);for(let d=e+he.length;d<this.rows.length;++d){let S=this.rows[d];S.lineNumber=q,S.startStringIndex=X,S.startTokenIndex+=Y,X+=S.stringLength,Y+=S.numTokens,S.tokens[S.tokens.length-1].type==="newlines"&&++q}if(this.rows.length===0)this.rows.push(k.emptyRow(0,0,0));else{let d=this.rows[this.rows.length-1];d.text.endsWith(`
`)&&this.rows.push(k.emptyRow(d.endStringIndex,d.endTokenIndex,d.lineNumber+1))}this.maxVerticalScroll=Math.max(0,this.rows.length-this.gridBounds.height),this.render()}refreshBuffers(){this.resized=!0,H(this.fgfx,this.canv.width,this.canv.height),H(this.bgfx,this.canv.width,this.canv.height),H(this.tgfx,this.canv.width,this.canv.height),this.refreshAllTokens()}clampScroll(){let e=this.scroll.y<0||this.maxVerticalScroll===0,t=this.scroll.y>this.maxVerticalScroll;return e?this.scroll.y=0:t&&(this.scroll.y=this.maxVerticalScroll),this.render(),e||t}scrollIntoView(e){let t=ht(e.x,this.scroll.x,this.scroll.x+this.gridBounds.width),o=ht(e.y,this.scroll.y,this.scroll.y+this.gridBounds.height);this.scrollBy(t,o)}pushUndo(){this.historyIndex<this.history.length-1&&this.history.splice(this.historyIndex+1),this.history.push({value:this.value,frontCursor:this.frontCursor.i,backCursor:this.backCursor.i}),this.historyIndex=this.history.length-1}moveInHistory(e){let t=this.historyIndex+e;if(0<=t&&t<this.history.length){let o=this.history[this.historyIndex];this.historyIndex=t;let i=this.history[this.historyIndex];this.setValue(i.value,!1),this.frontCursor.setI(this.rows,o.frontCursor),this.backCursor.setI(this.rows,o.backCursor)}}blur(){this.focused&&(this._focused=!1,this.dispatchEvent(this.blurEvt),this.render())}focus(){this.focused||(this._focused=!0,this.dispatchEvent(this.focusEvt),this.render())}resize(){A(this.canv)?tt(this.context,this.scaleFactor)&&this.refreshBuffers():console.warn("Can't automatically resize a canvas that is not in the DOM tree")}setSize(e,t){H(this.context,e,t,this.scaleFactor)&&this.refreshBuffers()}scrollTo(e,t){return this.wordWrap||(this.scroll.x=e),this.scroll.y=t,this.clampScroll()}scrollBy(e,t){return this.scrollTo(this.scroll.x+e,this.scroll.y+t)}readKeyDownEvent(e){let t=this.os.makeCommand(e);this.keyDownCommands.has(t.command)&&(e.preventDefault(),this.keyDownCommands.get(t.command)(e))}readKeyPressEvent(e){let t=this.os.makeCommand(e);this.readOnly||(e.preventDefault(),this.keyPressCommands.has(t.command)?this.keyPressCommands.get(t.command)():(t.type==="printable"||t.type==="whitespace")&&this.setSelectedText(t.text),this.clampScroll(),this.render())}copySelectedText(e){return this.focused&&this.frontCursor.i!==this.backCursor.i?(e.clipboardData.setData("text/plain",this.selectedText),e.returnValue=!1,!0):!1}readCopyEvent(e){this.copySelectedText(e)}readCutEvent(e){this.copySelectedText(e)&&!this.readOnly&&this.setSelectedText("")}readPasteEvent(e){if(this.focused&&!this.readOnly){e.returnValue=!1;let o=e.clipboardData.getData("text/plain");o&&this.setSelectedText(o)}}readWheelEvent(e){if(this.hovered||this.focused){if(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey){let t=Math.floor(e.deltaY*Dt/ft);(!this.scrollBy(0,t)||this.focused)&&e.preventDefault()}else!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.preventDefault(),this.fontSize+=-e.deltaY/ft);this.render()}}vibrate(e){this.longPress.cancel(),e>0?(this.vibX=(Math.random()-.5)*10,this.vibY=(Math.random()-.5)*10,setTimeout(()=>this.vibrate(e-10),10)):(this.vibX=0,this.vibY=0),this.render()}setUVPointer(e){this.pointer.set(e.uv.x*this.width,(1-e.uv.y)*this.height)}startSelecting(){this.dragging=!0,this.moveCursor(this.frontCursor)}moveCursor(e){this.pointer.toCell(this.character,this.scroll,this.gridBounds);let t=this.pointer.x-this.scroll.x,o=this.pointer.y-this.scroll.y,i=o>=this.gridBounds.height,s=t<0,l=this.pointer.x>=this.gridBounds.width;if(!this.scrolling&&!i&&!s&&!l)e.setXY(this.rows,this.pointer.x,this.pointer.y),this.backCursor.copy(e);else if(this.scrolling||l&&!i){this.scrolling=!0;let a=this.rows.length-this.gridBounds.height;if(o>=0&&a>=0){let u=o*a/this.gridBounds.height;this.scrollTo(this.scroll.x,u)}}else if(i&&!s){let a=0;for(let h=0;h<this.rows.length;++h)a=Math.max(a,this.rows[h].stringLength);let u=a-this.gridBounds.width;if(t>=0&&u>=0){let h=t*u/this.gridBounds.width;this.scrollTo(h,this.scroll.y)}}this.render()}dragScroll(){if(this.lastScrollDX!==null&&this.lastScrollDY!==null){let e=(this.lastScrollDX-this.pointer.x)/this.character.width,t=(this.lastScrollDY-this.pointer.y)/this.character.height;this.scrollBy(e,t)}this.lastScrollDX=this.pointer.x,this.lastScrollDY=this.pointer.y}pointerOver(){this._hovered=!0,this.dispatchEvent(this.overEvt)}pointerOut(){this._hovered=!1,this.dispatchEvent(this.outEvt)}pointerDown(){this.focus(),this.pressed=!0}mouseLikePointerDown(e){return t=>{e(t),this.pointerDown(),this.startSelecting()}}mouseLikePointerUp(){this.pressed=!1,this.dragging=!1,this.scrolling=!1}mouseLikePointerMove(e){return t=>{e(t),this.pointerMove()}}touchLikePointerDown(e){return t=>{e(t),this.tx=this.pointer.x,this.ty=this.pointer.y,this.pointerDown(),this.longPress.start()}}touchLikePointerUp(){this.longPress.cancel()&&!this.dragging&&this.startSelecting(),this.mouseLikePointerUp(),this.lastScrollDX=null,this.lastScrollDY=null}touchLikePointerMove(e){return t=>{if(e(t),this.longPress.isRunning){let o=this.pointer.x-this.tx,i=this.pointer.y-this.ty;o*o+i*i>25&&this.longPress.cancel()}this.longPress.isRunning||this.pointerMove()}}setMousePointer(e){this.pointer.set(e.offsetX,e.offsetY)}readMouseOverEvent(){this.pointerOver()}readMouseOutEvent(){this.pointerOut()}readMouseDownEvent(e){this.mouseLikePointerDown(this.setMousePointer)(e)}readMouseUpEvent(){this.mouseLikePointerUp()}readMouseMoveEvent(e){this.mouseLikePointerMove(this.setMousePointer)(e)}findTouch(e){for(let t of e)if(this.currentTouchID===null||t.identifier===this.currentTouchID)return t;return null}withPrimaryTouch(e){return t=>{t.preventDefault(),e(this.findTouch(t.touches)||this.findTouch(t.changedTouches))}}setTouchPointer(e){if(A(this.canv)){let t=this.canv.getBoundingClientRect();this.pointer.set(e.clientX-t.left,e.clientY-t.top)}}readTouchStartEvent(e){this.withPrimaryTouch(this.touchLikePointerDown(this.setTouchPointer))(e)}readTouchMoveEvent(e){this.withPrimaryTouch(this.touchLikePointerMove(this.setTouchPointer))(e)}readTouchEndEvent(e){this.withPrimaryTouch(this.touchLikePointerUp)(e)}};Object.freeze(F);var K=r=>{let n=r.toLocaleLowerCase(),e=`read${r}Event`;window.addEventListener(n,t=>{P!==null&&P[e](t)},{passive:!1})};K("KeyDown");K("KeyPress");K("Copy");K("Cut");K("Paste");window.addEventListener("wheel",r=>{let n=P||ce;n!==null&&n.readWheelEvent(r)},{passive:!1});export{ke as Basic,b as Dark,v as Grammar,at as HTML,z as JavaScript,Ee as Light,Pe as PlainText,F as Primrose,se as Rule,L as Token,Le as grammars,Jn as themes};
