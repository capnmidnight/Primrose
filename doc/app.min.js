function scroller(e){document.getElementById(e).scrollIntoView({block:"top",behavior:"smooth"})}!function(){"use strict";function e(){for(var e=document.querySelector("#documentation")||document.querySelector("main"),t=e.querySelectorAll("pre"),r=0;r<t.length;++r){var n=t[r],o=(n.textContent||n.innerText).trim(),l=o.match(m),a=Primrose.Text.Grammars.PlainText;if(l){var i=l[1];a=Primrose.Text.Grammars[i]||a,o=o.replace(m,"")}Primrose.Text.Themes.Default.regular.backColor&&delete Primrose.Text.Themes.Default.regular.backColor,n.innerHTML=a.toHTML(o),n.className="code-listing"}}function t(){for(var e=i.querySelectorAll("a"),t=0;t<e.length;++t){var r=e[t],n=new URL(r.href);n.host!==document.location.host&&(r.target="_blank")}}function r(r){var o=document.location.hash,l=null;if(/\.md$/.test(o))l=Primrose.HTTP.getText("../"+o.substring(1)).then(pliny.markdown);else if(c[o]){for(var a=c[o],s=document.querySelectorAll("#contents > nav > ul > li > details"),m=0;m<s.length;++m)s[m].removeAttribute("open");n(a.obj),l=Promise.resolve(a.doc)}else l=Promise.reject("Item `"+o+"` does not exist in docoCache.");l.catch(function(e){return console.error(e),"Not found: "+o}).then(function(n){i.innerHTML=n,e(),t(),r&&scroller("documentation")})}function n(e){for(var t=document.querySelectorAll(".selected"),r=!1,n=0;n<t.length;++n)t[n].classList.remove("selected");for(;e;){var o="#"+e.id.trim(),l=document.querySelector("a[href='"+o+"']");l&&(isMobile||r||(l.parentElement.parentElement.parentElement.setAttribute("open",""),r=!0),l.classList.add("selected")),e=e.parent&&pliny.get(e.parent)}}function o(){for(var e=[pliny.database];e.length>0;){var t=e.shift();for(var r in t)if(u[r])for(var n=t[r],o=u[r],l=0;l<n.length;++l){var a=n[l];o.items.push(a),c["#"+a.id.trim()]={obj:a,doc:pliny.formats.html.format(a)+"<a href=\"javascript:scroller('top')\">top</a>"},e.push(a)}}}function l(){o();var e="";for(var t in u){var n=u[t];if(n.label){n.items.sort(function(e,t){var r=e.fullName,n=t.fullName;return"[Global]"===r&&(r="A"+r),"[Global]"===n&&(n="A"+n),r>n?1:r<n?-1:0}),e+="<li><details id="+n.fieldType+"><summary>"+n.label+"</summary><ul>";for(var l=0;l<n.items.length;++l){var i=n.items[l],s="#"+i.id.trim(),m=c[s].doc;e+='<li><a href="'+s+'"',m&&m.indexOf("[under construction]")>-1&&(e+=' class="incomplete"'),e+=">"+i.fullName+"</a></li>"}e+="</details></ul></li>"}}a.innerHTML+=e,r()}var a,i,s,c,m=/^grammar\("(\w+)"\);\r?\n/,u={namespaces:{label:"Namespaces",fieldType:"namespace",items:[pliny.database]},classes:{label:"Classes",fieldType:"class",items:[]},functions:{label:"Functions",fieldType:"functions",items:[]},examples:{items:[]},methods:{items:[]},properties:{items:[]},events:{items:[]},records:{items:[]},enumerations:{items:[]},values:{items:[]}};window.addEventListener("hashchange",r,!1),window.addEventListener("load",function(){a=document.querySelector("#contents nav > ul"),i=document.querySelector("#documentation"),i?(s=document.querySelector("main"),c={"":{obj:null,doc:i.innerHTML},"#Global":{obj:pliny.database,doc:pliny.formats.html.format(pliny.database)}},l()):e()})}();